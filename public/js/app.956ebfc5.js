(function(e){function t(t){for(var r,n,o=t[0],c=t[1],l=t[2],u=0,m=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&m.push(i[n][0]),i[n]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(m.length)m.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,n=1;n<a.length;n++){var c=a[n];0!==i[c]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},i={app:0},s=[];function n(e){return o.p+"js/"+({}[e]||e)+"."+{"chunk-2d216214":"a631c492","chunk-2d216257":"d8c9bc89","chunk-45d4c016":"462d0ce4"}[e]+".js"}function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(e){var t=[],a=i[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,r){a=i[e]=[t,r]}));t.push(a[2]=r);var s,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=n(e);var l=new Error;s=function(t){c.onerror=c.onload=null,clearTimeout(u);var a=i[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+s+")",l.name="ChunkLoadError",l.type=r,l.request=s,a[1](l)}i[e]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:c})}),12e4);c.onerror=c.onload=s,document.head.appendChild(c)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0800":function(e,t,a){},"0ed9":function(e,t,a){"use strict";a("3178")},1025:function(e,t,a){},"17cf":function(e,t,a){},"1d40":function(e,t,a){e.exports=a.p+"img/unnamed.df0bbe66.jpg"},"2a2e":function(e,t,a){"use strict";a("e377")},3178:function(e,t,a){},3536:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return r}));a("ac1f"),a("1276"),a("d3b7"),a("25f0");var r=function(t){var a=t.split(".")[1],r=e.from(a,"base64");return JSON.parse(r.toString())}}).call(this,a("b639").Buffer)},"3ab6":function(e,t,a){},"51c7":function(e,t,a){"use strict";a("1025")},"53e7":function(e,t,a){"use strict";a("17cf")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",[a("router-view")],1)],1)},s=[],n=a("3536"),o={name:"App",mounted:function(){var e=localStorage.getItem("token");if(e){var t=Object(n["a"])(e).data;this.$store.dispatch("setUserAction",t),this.$store.dispatch("setLoginSignAction",!0);var a=this.$store.getters.user.role.user_level.nivel_usuario;switch(a){case 2:this.$router.push("/manager");break;case 3:this.$router.push("/orders");break;case 4:this.$router.push("/orders");break;case 5:this.$router.push("/kitchen-room");break;default:this.$router.push("/");break}}}},c=o,l=a("2877"),u=a("6544"),d=a.n(u),m=a("7496"),p=a("f6c4"),v=Object(l["a"])(c,i,s,!1,null,null,null),h=v.exports;d()(v,{VApp:m["a"],VMain:p["a"]});a("b64b"),a("d81d");var f=a("8c4f"),b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{staticClass:"bg",attrs:{align:"center",justify:"center"}},[r("v-col",{staticClass:"col-12 mt-5  no-gutters",attrs:{align:"center",justify:"center"}},[r("v-img",{staticClass:"no-gutters",attrs:{"max-height":"300","max-width":"300",width:"30%",src:a("c0a1"),contain:""}}),r("v-img",{staticClass:"no-gutters",attrs:{"max-height":"400","max-width":"1200",src:a("c680"),contain:""}})],1),r("v-col",{staticClass:"mx-auto zoomInDown btn_home",attrs:{cols:"12",align:"center"}},[r("v-btn",{staticClass:"mx-auto rounded-xl no-gutters",attrs:{"min-height":"100","max-height":"100","min-width":"150px",width:"80%","max-width":"450px",color:"white",to:"/login",outlined:""}},[r("v-icon",{attrs:{left:"",color:"white",size:"35"}},[e._v(" mdi-login")]),r("span",{staticClass:"white--text ml-2 txt_btn"},[e._v(e._s(e.txtBtn))])],1)],1)],1)},g=[],x={name:"Home",data:function(){return{txtBtn:"Iniciar Sesion"}}},C=x,_=(a("c6c0"),a("8336")),k=a("62ad"),y=a("132d"),w=a("adda"),I=a("0fd9"),O=Object(l["a"])(C,b,g,!1,null,"51c865d0",null),V=O.exports;d()(O,{VBtn:_["a"],VCol:k["a"],VIcon:y["a"],VImg:w["a"],VRow:I["a"]});var S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"bg",attrs:{"fill-heigth":"",fluid:""}},[r("v-row",{staticStyle:{"margin-top":"10%"},attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"11",md:"10",lg:"8",xl:"6"}},[r("v-card",{staticClass:"elevation-6 mt-10"},[r("v-form",{model:{value:e.isFormValid,callback:function(t){e.isFormValid=t},expression:"isFormValid"}},[r("v-row",{attrs:{justify:"center"}},[r("v-col",{staticClass:"back rounded-bl-xl pa-5",attrs:{cols:"11",sm:"6"}},[r("v-img",{staticClass:"mt-sm-10",attrs:{"min-height":"100px","max-height":"100%","max-width":"290px",src:a("e805")}})],1),r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-card-text",{staticClass:"mt-5"},[r("h2",{staticClass:"text-center"},[e._v("Bienvenido")]),r("h4",{staticClass:"text-center grey--text"},[e._v(" Ingresa tus credenciales ")]),r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"11"}},[r("v-text-field",{staticClass:"mt-12",attrs:{rules:e.userRules,label:"Nombre de Usuario",outlined:"",color:"blue","aria-autocomplete":"false",required:""},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),r("v-text-field",{attrs:{rules:e.passwordRules,label:"Clave",outlined:"",color:"blue","aria-autocomplete":"false",type:"password",required:""},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),r("v-btn",{staticClass:"white--text mb-5",attrs:{disabled:!e.isFormValid,color:"blue",block:"","x-large":""},on:{click:e.login}},[e._v(" Ingresar ")])],1)],1),e.messageError?r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"11"}},[r("v-alert",{attrs:{shaped:"",type:"error"}},[e._v(" "+e._s(e.messageError)+" ")])],1)],1):e._e()],1)],1)],1)],1)],1)],1)],1)],1)},j=[],$={name:"Login",data:function(){return{isFormValid:!1,user:{username:"",password:""},userRules:[function(e){return!!e||"Ingresa tu nombre de usuario"}],passwordRules:[function(e){return!!e||"Ingrese tu clave"}],messageError:null}},methods:{login:function(){var e=this;this.$services.auth.login(this.user).then((function(t){if(t.data.ok){var a=t.data.token;localStorage.setItem("token",a);var r=Object(n["a"])(a).data;switch(e.$store.dispatch("setUserAction",r),e.$store.dispatch("setLoginSignAction",!0),e.$store.getters.user.role.user_level.nivel_usuario){case 2:e.$router.push("/manager");break;case 3:e.$router.push("/orders");break;case 4:e.$router.push("/orders");break;case 5:e.$router.push("/kitchen-room");break;default:e.$router.push("/");break}}})).catch((function(t){console.log(t),e.messageError="Las credenciales son incorrectas"}))}}},E=$,R=(a("53e7"),a("0798")),M=a("b0af"),A=a("99d9"),T=a("a523"),F=a("4bd4"),L=a("8654"),D=Object(l["a"])(E,S,j,!1,null,"64ca004b",null),N=D.exports;d()(D,{VAlert:R["a"],VBtn:_["a"],VCard:M["a"],VCardText:A["b"],VCol:k["a"],VContainer:T["a"],VForm:F["a"],VImg:w["a"],VRow:I["a"],VTextField:L["a"]});var B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("app-layout",[a("v-container",{staticStyle:{"max-width":"1400px"},attrs:{fluid:""}},[a("v-row",{staticClass:"mt-3 align-center justify-center"},[a("v-btn-toggle",{staticClass:"justify-center mr-0 pr-0 pl-0 ml-0 green--text",attrs:{shaped:"",borderless:"",mandatory:"",color:"green accent-4",id:"toggle1"},model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[a("v-btn",{staticClass:"btn1"},[a("v-icon",{staticClass:"mr-1",attrs:{size:"28",color:0===e.step?"green accent-4":"black"}},[e._v("mdi-hamburger-plus")]),a("span",{staticClass:"hidden-xs-only"},[e._v("Nueva Orden")])],1),a("v-btn",{staticClass:"btn1"},[a("v-icon",{staticClass:"mr-1",attrs:{size:"28",color:1===e.step?"green accent-4":"black"}},[e._v("mdi-format-list-bulleted-square")]),a("span",{staticClass:"hidden-xs-only"},[e._v("Ver Ordenes")])],1),e.isCashier?a("v-btn",{staticClass:"btn1"},[a("v-icon",{staticClass:"mr-1",attrs:{size:"28",color:2===e.step?"green accent-4":"black"}},[e._v("mdi-cash-register")]),a("span",{staticClass:"hidden-xs-only"},[e._v("Opciones de Caja")])],1):e._e()],1)],1),a("v-row",{staticClass:"align-center justify-center"},[a("v-window",{staticClass:"col-12",model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[a("v-window-item",{attrs:{value:0}},[a("orders-create-or-edit")],1),a("v-window-item",{attrs:{value:1}},[a("v-row",{staticClass:"pa-8 fill-height align-center justify-center"},[e.isCashier?a("v-col",{staticClass:"col-12"},[a("app-container-cards-orders",{attrs:{tipoCard:"CajeroPay"}})],1):a("v-col",{staticClass:"col-12"},[a("app-container-cards-orders",{attrs:{orders:e.orders.items,tipoCard:"Mesero"}})],1)],1)],1),e.isCashier?a("v-window-item",{attrs:{value:2}},[a("v-row",{attrs:{justify:"center",align:"center","no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[a("cash-register")],1)],1)],1):e._e()],1)],1)],1)],1)},P=[],q=(a("b0c0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("app-top-bar"),a("v-container",{attrs:{fluid:""}},[a("v-row",{staticClass:"pb-xs-2 ma-sm-5 justify-center fill-height align-center",attrs:{"no-gutters":""}},[e._t("default")],2)],1)],1)}),z=[],G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-app-bar",{attrs:{color:"black",dark:"","shrink-on-scroll":"",src:a("bfe3")}},[r("v-toolbar-title",[e._v(e._s(e.currentRouteName))]),r("v-spacer"),r("app-menu-bar-user")],1)],1)},U=[],W=(a("07ac"),a("7db0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":100,"offset-x":"",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",i,!1),r),[a("v-icon",{attrs:{size:"35"}},[e._v("mdi-account-circle-outline")])],1)]}}])},[a("v-card",{attrs:{dark:"","max-width":"290"}},[a("v-list",[a("v-list-item",[a("v-list-item-avatar",[a("v-icon",{attrs:{color:"cyan accent-2",size:"40"}},[e._v(e._s(e.avatar))])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(e.nombre))]),a("v-list-item-subtitle",[e._v(e._s(e.rol))])],1)],1)],1),a("v-divider"),a("v-list",e._l(e.items_usuario,(function(t){return a("v-list-item",{key:t.title,attrs:{link:"",to:t.path},on:{click:t.click}},[a("v-list-item-icon",[a("v-icon",{attrs:{size:"30"}},[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(t.title)+" ")])],1)],1)})),1)],1)],1)}),H=[],J={name:"AppMenuBarUser",mounted:function(){switch(this.nombre=this.$store.getters.user.nombre+" "+this.$store.getters.user.apellido,this.rol=this.$store.getters.user.role.nombreRol,this.rol){case"Administrador":this.avatar="account-key";break;case"Gerente":this.avatar="mdi-account-tie";break;case"Personal de cocina":this.avatar="mdi-chef-hat";break;case"Cajero":this.avatar="mdi-cash-register";break;case"Mesero":this.avatar="mdi-table-chair";break;default:this.avatar="mdi-account"}},data:function(){var e=this;return{nombre:"",rol:"",avatar:"",items_usuario:[{title:"Mi Cuenta",icon:"mdi-account-details",path:Gi.myaccount.path,click:function(){}},{title:"Salir",icon:"mdi-exit-to-app",click:function(){return e.signOut()}}]}},methods:{signOut:function(){localStorage.removeItem("token"),this.$store.dispatch("setUserAction",null),this.$store.dispatch("setLoginSignAction",!1),this.$router.push("/")}}},K=J,Z=a("ce7e"),Y=a("8860"),Q=a("da13"),X=a("8270"),ee=a("5d23"),te=a("34c3"),ae=a("e449"),re=Object(l["a"])(K,W,H,!1,null,null,null),ie=re.exports;d()(re,{VBtn:_["a"],VCard:M["a"],VDivider:Z["a"],VIcon:y["a"],VList:Y["a"],VListItem:Q["a"],VListItemAvatar:X["a"],VListItemContent:ee["b"],VListItemIcon:te["a"],VListItemSubtitle:ee["c"],VListItemTitle:ee["d"],VMenu:ae["a"]});var se={name:"AppTopBar",components:{AppMenuBarUser:ie},data:function(){return{valuesRouter:Object.values(Gi)}},computed:{currentRouteName:function(){var e=this,t=this.valuesRouter.find((function(t){return t.name===e.$route.name})).title;return t}}},ne=se,oe=a("40dc"),ce=a("2fa4"),le=a("2a7f"),ue=Object(l["a"])(ne,G,U,!1,null,null,null),de=ue.exports;d()(ue,{VAppBar:oe["a"],VSpacer:ce["a"],VToolbarTitle:le["b"]});var me={name:"AppLayout",components:{AppTopBar:de}},pe=me,ve=Object(l["a"])(pe,q,z,!1,null,null,null),he=ve.exports;d()(ve,{VContainer:T["a"],VRow:I["a"]});var fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{staticStyle:{"max-width":"1300px"},attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("orders-card-category")],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("orders-form-data")],1)],1)},be=[],ge=(a("a9e3"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{staticClass:"col-12 ml-0 mr-0 pl-0 pr-0"},[a("v-row",{staticClass:"col-12 ml-0 mr-0 pl-0 pr-0",staticStyle:{"margin-bottom":"-40px"}},[a("v-col",{staticClass:"col-12 pl-0 pr-0 d-inline-flex textBuscar"},[a("v-text-field",{staticClass:"rounded-r-0 rounded-l-lg mr-1",attrs:{label:"Buscar",outlined:"",clearable:"",color:"teal darken-2"},model:{value:e.txt_buscar,callback:function(t){e.txt_buscar=t},expression:"txt_buscar"}}),a("v-btn",{staticClass:"rounded-l-0 rounded-r-lg btnBuscar",attrs:{color:"teal darken-2",depressed:"","min-height":"65%"},on:{click:function(t){return e.filterMenuByName()}}},[a("v-icon",{attrs:{size:"30",color:"white"}},[e._v("mdi-magnify")])],1)],1)],1),a("v-row",{staticClass:"col-12 ml-0 mr-0 pl-0 pr-0"},[a("v-card",{staticClass:"col-12",attrs:{color:"rgb(247, 247, 247)"}},[a("v-card-title",{staticClass:"text-h6 font-weight-regular justify-space-between"},[a("v-btn",{attrs:{disabled:1===e.step,text:""},on:{click:function(t){return e.seleccionarCategoria(null)}}},[e._v(" Back ")]),a("span",[e._v(e._s(e.cat))])],1),a("v-window",{model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[a("v-window-item",{attrs:{value:1}},[a("v-row",{staticClass:"ml-1 mr-1 pt-5"},[a("v-col",{attrs:{cols:"12"}},[a("masonry",{attrs:{cols:{default:3,1266:3,850:2,600:3,425:2},gutter:{default:"10px",700:"10px"}}},e._l(e.categories.items,(function(t,r){return a("div",{key:t.idCategoria,staticClass:"mb-4 mt-1 zoomInUp",attrs:{id:"items"}},[a("v-btn",{staticClass:"caption mx-auto",attrs:{"min-height":"120","min-width":"100%","max-width":"100%",color:e.colors[r],id:"boton_categoria",disabled:2===e.step,depressed:""},on:{click:function(){return e.seleccionarCategoria(t)}}},[a("span",{staticClass:"boton_a"},[e._v(e._s(t.nombreCategoria))])])],1)})),0)],1)],1)],1),a("v-window-item",{attrs:{value:2}},[a("v-row",{staticClass:"ml-n4"},[a("v-col",{staticClass:"col-12 mx-auto"},[a("v-list",{attrs:{subheader:"","two-line":"",flat:"",color:"rgb(247, 247, 247)"}},[a("v-list-item-group",{attrs:{multiple:""},model:{value:e.ItemSelectsMenu,callback:function(t){e.ItemSelectsMenu=t},expression:"ItemSelectsMenu"}},[e._l(e.items_menu,(function(t){return[a("v-list-item",{key:t.id_menu_item,staticClass:"mb-1 mr-n3",attrs:{value:t}},[[a("v-list-item-action",[a("v-checkbox",{attrs:{color:"primary","input-value":e.ItemSelectsMenu.some((function(e){return e.id_menu_item===t.id_menu_item}))}})],1),a("v-list-item-title",{staticClass:" ml-n5 text-wrap"},[e._v(" "+e._s(t.nombre_item)+" "),a("v-list-item-subtitle",{staticClass:" text-wrap"},[e._v(" "+e._s(t.detalles_item)+" ")])],1),a("v-list-item-action-text",[a("span",{staticClass:" green--text text-body-2 font-weight-bold text-no-wrap"},[e._v(" $ "+e._s(t.precio)+" ")])])]],2)]}))],2)],1)],1)],1)],1)],1),a("v-card-actions")],1)],1)],1)}),xe=[],Ce=a("5530"),_e=a("15fd"),ke=a("2909"),ye=(a("159b"),a("99af"),a("4de4"),a("498a"),new r["a"]),we=ye,Ie=["light-green","amber darken-4","light-blue darken-4","teal lighten-1","pink darken-1","deep-purple lighten-1","brown lighten-1","deep-orange","red darken-3","teal darken-3","indigo accent-3","green accent-4","cyan darken-4","deep-orange accent-2"],Oe=["cantidad","comentario"],Ve={name:"OrdersCardCategory",mounted:function(){var e=this;this.$services.shareds.getCategories().then((function(t){t.data.ok?e.categories=t.data.collection:console.log("El servidor revento")})).catch((function(e){console.log(e)})),this.$services.orders.getMenuItemsAvailable().then((function(t){t.data.ok?e.menuItems=t.data.collection:console.log("El servidor revento")})).catch((function(e){console.log(e)})),this.$services.socketioService.getChangeMenuItems((function(t){t.forEach((function(t){t.disponibilidad?e.menuItems.items=[].concat(Object(ke["a"])(e.menuItems.items),[t]):e.menuItems.items=e.menuItems.items.filter((function(e){return e.id_menu_item!==t.id_menu_item}))})),e.step=1})),we.$on("clean",(function(t){e.itemMenuSelects=t})),we.$on("clean2",(function(t){e.step=t}))},data:function(){return{categories:{hasItems:!1,items:[],total:0},menuItems:{hasItems:!1,items:[],total:0},txt_buscar:"",step:1,message4:"Buscar",message_comentarios:"Comentarios",total_sample:"0.00",c1:"rgb(52, 166, 186)",icon1:"mdi-arrow-right-box",cat:"Menu",items_menu:[],items_menu_for_filter:this.menuItems,colors:Ie}},computed:{ItemSelectsMenu:{set:function(e){var t=e[e.length-1].id_menu_item;if(this.$store.getters.itemsMenuSelect.some((function(e){return e.id_menu_item===t})))return e=e.filter((function(e){return e.id_menu_item!==t})),void this.$store.dispatch("itemsMenuSelectAction",Object(ke["a"])(e));e=e.map((function(e){var t=e.cantidad,a=e.comentario,r=Object(_e["a"])(e,Oe);return Object(Ce["a"])(Object(Ce["a"])({},r),{},{cantidad:t||1,comentario:a||""})})),this.$store.dispatch("itemsMenuSelectAction",Object(ke["a"])(e))},get:function(){return this.$store.getters.itemsMenuSelect}}},methods:{clearSelect:function(){this.itemMenuSelects=[],this.step=1,we.$emit("clearSelect")},seleccionarCategoria:function(e){e?(this.items_menu=this.menuItems.items.filter((function(t){return t.idCategoria===e.idCategoria})),this.cat=e.nombreCategoria,this.step++):e?(this.cat="Categorías",this.step--):(this.txt_buscar="",this.step=1,this.cat="Menu")},filterMenuByName:function(){if(""!==this.txt_buscar&&null!==this.txt_buscar&&0!==this.txt_buscar.value&&""!==this.txt_buscar.value){var e=this.txt_buscar.toLowerCase().trim();return this.items_menu=this.menuItems.items.filter((function(t){return t.nombre_item.toLowerCase().indexOf(e)>-1})),this.step=2,this.items_menu}this.step--}}},Se=Ve,je=(a("5d3b"),a("ac7c")),$e=a("1800"),Ee=a("1baa"),Re=a("f665"),Me=a("1e6c"),Ae=Object(l["a"])(Se,ge,xe,!1,null,"58cfdedc",null),Te=Ae.exports;d()(Ae,{VBtn:_["a"],VCard:M["a"],VCardActions:A["a"],VCardTitle:A["c"],VCheckbox:je["a"],VCol:k["a"],VIcon:y["a"],VList:Y["a"],VListItem:Q["a"],VListItemAction:$e["a"],VListItemActionText:ee["a"],VListItemGroup:Ee["a"],VListItemSubtitle:ee["c"],VListItemTitle:ee["d"],VRow:I["a"],VTextField:L["a"],VWindow:Re["a"],VWindowItem:Me["a"]});var Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{staticClass:"col-12"},[a("v-form",{staticClass:"mx-2",model:{value:e.isFormValid,callback:function(t){e.isFormValid=t},expression:"isFormValid"}},[a("v-row",[a("h3",{staticClass:"ml-4 mt-4 mb-0 display-1"},[e._v("Orden")])]),a("v-row",{staticClass:"mt-5",attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"8"}},[e.isEdit?a("v-text-field",{attrs:{color:"purple darken-2",label:"Nombre cliente",required:"",clearable:"",rules:e.rulesText},model:{value:e.NombreCliente,callback:function(t){e.NombreCliente=t},expression:"NombreCliente"}}):a("v-text-field",{attrs:{color:"purple darken-2",label:"Nombre cliente",required:"",clearable:"",rules:e.rulesText},model:{value:e.nombreCliente,callback:function(t){e.nombreCliente=t},expression:"nombreCliente"}})],1),a("v-col",{staticClass:"ml-5 mt-3",attrs:{cols:"2"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"rgb(204, 66, 39)"},on:{click:e.clearFormOrder}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-delete ")])],1)],1)],1),a("v-row",[a("h4",{staticClass:"ml-4 mt-0 mb-0"},[e._v("Numero de mesa")])]),a("v-row",[a("v-col",{attrs:{sm:"12"}},[a("v-sheet",{staticClass:"mx-auto",attrs:{elevation:"8"}},[e.isEdit?a("v-slide-group",{staticClass:"pa-0",attrs:{"active-class":"success","show-arrows":""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.mesas.items,(function(t){return a("v-slide-item",{key:t.idMesa,model:{value:e.MesaSelect,callback:function(t){e.MesaSelect=t},expression:"MesaSelect"}},[a("v-card",{staticClass:"ma-1 rounded-circle",attrs:{color:t.idMesa===e.MesaSelect?"green lighten-1":"grey lighten-1",height:"40",width:"40"},on:{click:function(a){e.MesaSelect=t.idMesa}}},[a("v-row",{staticClass:"fill-height mt-0 pt-0",attrs:{align:"center",justify:"center"}},[e._v(" "+e._s(t.numero)+" ")])],1)],1)})),1):a("v-slide-group",{staticClass:"pa-0",attrs:{"active-class":"success","show-arrows":""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.mesas.items,(function(t){return a("v-slide-item",{key:t.idMesa,model:{value:e.mesaSelect,callback:function(t){e.mesaSelect=t},expression:"mesaSelect"}},[a("v-card",{staticClass:"ma-1 rounded-circle",attrs:{color:t.idMesa===e.mesaSelect?"green lighten-1":"grey lighten-1",height:"40",width:"40"},on:{click:function(a){e.mesaSelect=t.idMesa}}},[a("v-row",{staticClass:"fill-height mt-0 pt-0",attrs:{align:"center",justify:"center"}},[e._v(" "+e._s(t.numero)+" ")])],1)],1)})),1)],1)],1)],1),a("v-divider",{staticClass:"mt-5"}),a("v-row",{staticClass:"mt-4"},[a("h4",{staticClass:"mt-0 mb-3"},[e._v("Items:")])]),e._l(e.ItemSelects,(function(t,r){return a("v-row",{key:t.id_menu_item,attrs:{"no-gutters":"",align:"center",justify:"center"}},[a("v-card",{staticClass:"mb-5",attrs:{elevation:"6","max-width":"470px","min-width":"200px"}},[a("v-card-text",[a("v-row",{attrs:{"no-gutters":"",align:"center",justify:"center"}},[a("v-col",{staticClass:"mt-n3 pa-2 text-h6 font-weight-bold",attrs:{cols:"11",sm:"11"}},[e._v(" "+e._s(t.nombre_item))]),a("v-col",{staticClass:"mt-0 pl-1 pr-1 d-flex justify-center",attrs:{cols:"12",sm:"12"}},[a("v-text-field",{staticStyle:{"max-width":"220px"},attrs:{dense:"",filled:"",rounded:"",rules:e.rulesCantidad,type:"number","append-outer-icon":"mdi-plus","prepend-icon":"mdi-minus",suffix:"* $"+t.precio.toString()},on:{"click:append-outer":function(a){return e.increment(t.cantidad,r)},"click:prepend":function(a){return e.decrement(t.cantidad,r)},input:function(a){return e.changeCantidad(t.cantidad,r)}},model:{value:t.cantidad,callback:function(a){e.$set(t,"cantidad",e._n(a))},expression:"menu.cantidad"}})],1),e.isEdit&&e.ItemSelectsEdit.some((function(e){return e.id_menu_item===t.id_menu_item}))?a("v-col",{staticClass:"col-12"},[a("v-btn",{staticStyle:{"margin-right":"-12px","margin-top":"20px"},attrs:{fab:"",dark:"","x-small":"",color:"pink",absolute:"",top:"",right:""},on:{click:function(a){return e.removeItem(t.id_menu_item,r)}}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-close-thick ")])],1)],1):e._e(),a("v-col",{class:{"col-12":e.isEdit&&e.ItemSelectsEdit.some((function(e){return e.id_menu_item===t.id_menu_item})),"col-12":!e.isEdit}},[a("v-divider",{staticClass:"mt-n1 mb-2"}),a("v-textarea",{staticClass:"ml-3 mr-3 mb-n8 pb-3",attrs:{dense:"",outlined:"",name:"input-2-4",label:"Comentario (Opcional)","prepend-icon":"mdi-comment-text-multiple",clearable:"",rows:"1",value:""},on:{input:function(a){return e.changeComment(t.comentario,r)}},model:{value:t.comentario,callback:function(a){e.$set(t,"comentario",a)},expression:"menu.comentario"}})],1)],1)],1)],1)],1)})),a("v-divider",{staticClass:"mt-5"}),a("v-list",[a("v-list-item",{staticClass:"mr-n3"},[a("v-list-item-title",{staticClass:"ml-n5 text-h6"},[e._v(" Sub Total ")]),a("v-list-item-action-text",[a("span",{staticClass:"green--text text-h6 font-weight-bold text-no-wrap"},[e._v(" $ "+e._s(e.subTotal)+" ")])])],1),a("v-list-item",{staticClass:"mt-n5 mr-n3"},[a("v-list-item-title",{staticClass:"ml-n5 text-h6"},[e._v(" Impuestos ")]),a("v-list-item-action-text",[a("span",{staticClass:"green--text text-h6 font-weight-bold text-no-wrap"},[e._v(" $ "+e._s(e.impuestos)+" ")])])],1),a("v-list-item",{staticClass:"mt-n5 mr-n3"},[a("v-list-item-title",{staticClass:"ml-n5 text-h6"},[e._v(" Total ")]),a("v-list-item-action-text",[a("span",{staticClass:"green--text text-h6 font-weight-bold text-no-wrap"},[e._v(" $ "+e._s(e.total)+" ")])])],1)],1),e.isEdit?e._e():a("v-row",[e.isCashier?a("v-col",{staticClass:"col-12"},[[a("v-btn",{attrs:{color:"success",block:"","x-large":"",disabled:!e.validarEnvio},on:{click:function(t){e.dialog=!0}}},[a("v-icon",[e._v("mdi-currency-usd")]),e._v(" Pagar")],1)],[a("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"90%",persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[[a("v-row",{staticClass:"white",attrs:{justify:"center",dense:""}},[a("v-btn",{staticClass:"red--text mt-2",attrs:{depressed:"",color:"grey lighten-4",width:"100%"},on:{click:function(t){e.dialog=!1}}},[a("v-icon",{staticStyle:{"margin-left":"95%"},attrs:{size:"35"}},[e._v("mdi-close")])],1),a("v-col",{attrs:{cols:"12",sm:"10",md:"8"}},[a("orders-form-pay",{attrs:{createOrder:e.createOrder,order:e.Order,total:e.total,subTotal:e.subTotal,impuestos:e.impuestos}})],1)],1)]],2)],[a("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"600px",persistent:""},model:{value:e.dialogPrint,callback:function(t){e.dialogPrint=t},expression:"dialogPrint"}},[[a("v-row",{staticClass:"justify-center grey darken-4",attrs:{dense:""}},[a("v-btn",{staticClass:"white--text my-3",attrs:{depressed:"",color:"grey darken-4",width:"100%"},on:{click:function(t){e.dialogPrint=!1}}},[a("v-icon",{staticStyle:{"margin-left":"95%"},attrs:{size:"35"}},[e._v("mdi-close")])],1),a("v-col",{staticClass:"col-12 grey darken-4"},[a("iframe",{staticClass:"grey darken-4",staticStyle:{width:"100%",height:"800px"},attrs:{title:"Ticket",type:"application/pdf",src:e.doc}})])],1)]],2)]],2):a("v-col",{staticClass:"col-12"},[a("v-btn",{staticClass:"mb-5",attrs:{"x-large":"",color:"success",block:"",disabled:!e.validarEnvio},on:{click:e.save}},[e._v(" Enviar a Cocina")])],1)],1)],2)],1)},Le=[],De=(a("ac1f"),a("5319"),a("fb6a"),a("bf19"),a("b680"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"ma-3",attrs:{elevation:"10"}},[a("v-card-title",{staticClass:"pt-8"},[e._v(" Pagar orden de "),a("span",{staticClass:"red--text ml-2"},[e._v(e._s(e.order.nombreCliente))]),a("br")]),a("v-row",{staticClass:"ma-1"},[a("v-card-text",[a("v-row",{staticClass:"overflow-x-auto ",attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"pa-5 grey lighten-3",attrs:{cols:"12",sm:"10",md:"8"}},[a("h3",[e._v("Items: ")]),a("v-list",{staticClass:"grey lighten-3"},[e._l(e.order.order_details,(function(t){return[a("v-list-item",{key:t.OrderDetial},[a("v-list-item-action",[a("v-list-item-title",{staticClass:"font-weight-bold"},[e._v(" "+e._s(t.cantidad)+" ")])],1),a("v-list-item-content",[a("v-list-item-title",{staticStyle:{"white-space":"normal","word-wrap":"break-word",width:"60px","font-weight":"bold"}},[e._v(" "+e._s(t.menu_item?t.menu_item.nombre_item:t.nombre_item)+" ")])],1),a("v-list-item-action",[a("span",{staticClass:"font-weight-bold"},[e._v("$ "+e._s(parseFloat(t.importe).toFixed(2)))])])],1)]}))],2)],1)],1),a("v-row",{staticClass:"justify-center ma-2 pa-5"},[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("h3",[e._v("Sub Total:")]),a("h4",[e._v("$ "+e._s(e.subTotal))])]),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("h3",[e._v("Impuestos (13%):")]),a("h4",[e._v("$ "+e._s(e.impuestos))])]),a("v-col",{attrs:{cols:"12",sm:"12",md:"4"}},[a("h3",[e._v("Total:")]),a("h4",[e._v("$ "+e._s(e.total))])])],1),a("v-row",{staticClass:"align-center justify-center"},[a("v-col",{attrs:{cols:"12"}},[a("v-row",{},[a("v-form",{ref:"form",staticClass:"col-12",model:{value:e.btnPayEnableCash,callback:function(t){e.btnPayEnableCash=t},expression:"btnPayEnableCash"}},[a("v-row",{staticClass:"ma-0 pa-0",attrs:{dense:""}},[a("v-col",{staticClass:"green white--text title py-4 pl-5",attrs:{cols:"12"}},[e._v(" Detalles del Pago en Efectivo "),a("br")])],1),a("v-row",{staticClass:"ma-0 pa-5",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"6",md:"5"}},[a("v-subheader",{staticClass:"grey--text text--lighten-1 pl-0"},[e._v("IMPORTE REALIZADO")]),a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-currency-usd","single-line":"",outlined:"",rules:e.ruleTest,placeholder:"##.##"},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.Calculate()}},model:{value:e.cashAmount,callback:function(t){e.cashAmount=t},expression:"cashAmount"}})],1),a("v-col",{staticClass:" ml-sm-5",attrs:{cols:"12",sm:"4",md:"5"}},[a("p",{staticClass:"red--text",attrs:{hidden:!e.valid}},[e._v("Monto insuficiente")]),a("v-subheader",{staticClass:"grey--text text--lighten-1 pl-0"},[e._v("CAMBIO")]),a("h3",{staticClass:"mt-4 font-weight-bold"},[e._v("$ "+e._s(e.cashBack))])],1)],1)],1)],1),a("v-row",[a("v-col",[a("v-btn",{staticClass:"white--text",attrs:{disabled:!e.btnPayEnableCash,color:"green",block:"","x-large":""},on:{click:e.save}},[a("v-icon",[e._v("mdi-cash-check")]),a("span",{staticClass:"hidden-xs-only ml-1"},[e._v("Pagar")])],1)],1)],1)],1)],1)],1)],1)],1)}),Ne=[],Be={required:[function(e){return!!e||"Requerido"}],integer:[function(e){return!!e||"Requerido"},function(e){return!(isNaN(e)||!(parseFloat(e)|0===parseFloat(e)))||"Debe ingresar un numero entero"}],decimal:[function(e){return!!e||"Requerido"},function(e){return/^(\d+(?:[\.]\d{0,2})?)$/.test(e)||"Debe ingresar un numero con dos decimales"}],decimal2:[function(e){return/^(\d+(?:[\.]\d{0,2})?)$/.test(e)||"Debe ingresar una cantidad con maximo 2 decimales"}],test:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return[function(e){return!!e||"Requerido"},function(e){return/^(\d+(?:[\.]\d{2})?)$/.test(e)||"Debe ingresar un numero con dos decimales"},function(t){return parseFloat(t)>=parseFloat(e)||"Monto insuficiente, debe ser mayor a $"+e}]},alpha:[function(e){return!!e||"Requerido"},function(e){return/^[a-zA-Z\s]*$/.test(e)||"Solo puede ingresar letras"}],email:[function(e){return!!e||"Requerido"},function(e){return/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,20}$/.test(e)||"Email inválido"},function(e){return(e||"").indexOf(" ")<0||"No puede haber espacios"}],password:[function(e){return!!e||"Requerido"},function(e){return(e||"").length>=8||"La contraseña debe tener minimo 8 caracteres"}],verificarpass:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return[function(e){return!!e||"Requerido"},function(t){return t===e||"Las contaseñas no coinciden"}]},phonesize:[function(e){return!!e||"Requerido"},function(e){return(e||"").length>=9||"Numero de telefono incompleto"}],cardsize:[function(e){return!!e||"Requerido"},function(e){return(e||"").length>=19||"Numero de tarjeta incompleto"}],cvvsize:[function(e){return!!e||"Requerido"},function(e){return(e||"").length>=3||"CVV incompleto"}]},Pe=function(){var e=[],t=3;if(t){var a=function(e){return(e||"").length>=t||"Se necesitan al menos ".concat(t," caracteres")};e.push(a)}return e},qe=function(){var e=[],t=1;if(t){var a=function(e){return!isNaN(parseFloat(e))&&e>=t||"La cantidad debe ser mayor a cero"};e.push(a)}return e},ze={name:"OrdersFormPay",props:{order:{type:Object,required:!0},total:{type:String,required:!0},subTotal:{type:String,required:!0},impuestos:{type:String,required:!0},createOrder:{type:Function},changeState:{type:Function}},data:function(){return{empleado:"",mesa:"",form:!0,btnPayEnable:!1,btnPayEnableCash:!1,valid:!1,ruleRequired:Be.required,ruleOnlyAlpha:Be.alpha,ruleDecimal:Be.decimal,ruleTest:"",cashName:"",cashAmount:"",cashBack:""}},created:function(){this.setRule()},mounted:function(){"from"===this.deDonde?this.form=!0:this.form=!1},watch:{cashAmount:{handler:function(e,t){var a=e-this.total;this.cashBack=a>=0?a.toFixed(2):(-1*a).toFixed(2)}}},methods:{setRule:function(){this.ruleTest=Be.test(this.total)},save:function(){if("function"===typeof this.createOrder){var e=Object(Ce["a"])(Object(Ce["a"])({},this.order),{},{importe:this.cashAmount});this.createOrder(e)}else"function"===typeof this.changeState&&this.changeState(this.cashAmount)},Calculate:function(){var e=parseFloat(this.cashAmount)-parseFloat(this.total);isNaN(e)?this.cashBack="":e.toFixed(2)<0?(this.valid=!0,this.cashBack=""):(this.valid=!1,this.cashBack=e.toFixed(2))}}},Ge=ze,Ue=a("e0c7"),We=Object(l["a"])(Ge,De,Ne,!1,null,null,null),He=We.exports;d()(We,{VBtn:_["a"],VCard:M["a"],VCardText:A["b"],VCardTitle:A["c"],VCol:k["a"],VForm:F["a"],VIcon:y["a"],VList:Y["a"],VListItem:Q["a"],VListItemAction:$e["a"],VListItemContent:ee["b"],VListItemTitle:ee["d"],VRow:I["a"],VSubheader:Ue["a"],VTextField:L["a"]});var Je=a("3d20"),Ke=a.n(Je),Ze=function(e,t,a){return Ke.a.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:2500,timerProgressBar:!0,icon:e,title:t,text:a})},Ye=function(e){return Ke.a.fire({title:"¿Estas seguro?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Eliminar",cancelButtonText:"Cancelar"}).then((function(t){t.isConfirmed&&e()}))},Qe=a("8baf"),Xe=(a("0da4"),["menu_item","importe"]);function et(e,t,a,r,i,s,n,o){var c=n.map((function(e){var t=e.menu_item,a=e.importe,r=Object(_e["a"])(e,Xe);return Object(Ce["a"])(Object(Ce["a"])({},r),{},{nombre:t.nombre_item,importe:a.toFixed(2)})})),l=c.length,u=new Qe["jsPDF"]("p","mm",[80,100+9*l]),d=0;return u.setFont("courier","bold"),u.setFontSize(14),u.text(17,d+=10,"POS Restaurante"),u.setFont("courier","normal"),u.setFontSize(10),u.autoTable({theme:"plain",styles:{font:"courier",halign:"center"},rowPageBreak:"auto",margin:{right:3,left:3},startY:17,body:[[o.nombre+" "+o.ubicacion],["Tel: "+o.telefono]]}),u.text(3,d+=30,"Cliente: "+e),u.text(3,d+=4,"Atendido por: "+t),u.text(3,d+=4,"Mesa: "+a),u.text(3,d+=5,"----------------------------------"),u.autoTable({theme:"plain",styles:{font:"courier"},rowPageBreak:"auto",margin:{top:3,right:3,left:3,bottom:5},startY:d+=2,head:[{cantidad:"Cant.",nombre:"Item",importe:"Importe"}],body:c}),d+=9*(l+1),u.text(3,d+=2,"----------------------------------"),u.text(3,d+=8,"Sub Total:               $"+parseFloat(r).toFixed(2)),u.text(3,d+=4,"Impuestos:               $"+parseFloat(i).toFixed(2)),u.setFont("courier","bold"),u.text(3,d+=4,"Total:                   $"+parseFloat(s).toFixed(2)),u.setFont("courier","normal"),u.text(3,d+=10," ***  Gracias por su visita   ***"),u.output("bloburl")}var tt=["precio"],at={name:"OrdersFormData",components:{WaiterCardCategory:Te,OrdersFormPay:He},mounted:function(){var e=this;this.isCashier=3===this.$store.getters.user.role.user_level.nivel_usuario,this.isEdit=!!this.$route.params.id,this.$services.orders.getTablesAvailable().then((function(t){t.data.ok&&(e.mesas=t.data.collection,e.mesas.items=[{idMesa:null,numero:"N/A"}].concat(Object(ke["a"])(e.mesas.items)))})).catch((function(e){console.log(e)})),this.$services.socketioService.getChangeMenuItems((function(t){t.forEach((function(t){var a=t.id_menu_item,r=t.disponibilidad;!r&&e.$store.getters.itemsMenuSelect.some((function(e){return e.id_menu_item===a}))&&e.$store.dispatch("itemsMenuSelectAction",e.$store.getters.itemsMenuSelect.filter((function(e){return e.id_menu_item!==a})))}))}))},data:function(){return{hasItems:!1,accounts:[],isCashier:!1,isFormValid:!1,dialog:!1,dialogPrint:!1,doc:"",icon1:"mdi-arrow-right-box",mesas:{hasItems:!1,items:[]},model:null,nombreCliente:"",mesaSelect:null,nombre_valido:!1,isEdit:!1}},watch:{isFormValid:function(){this.isEdit&&this.$store.dispatch("setIsValidEditFormAction",this.isFormValid)}},computed:{Order:function(){var e=this.$store.getters.user.idComercial,t=this.ItemSelects.map((function(e){var t=e.precio,a=Object(_e["a"])(e,tt);return Object(Ce["a"])(Object(Ce["a"])({},a),{},{importe:a.cantidad*t})})),a={nombreCliente:this.nombreCliente,fechaOrden:(new Date).toJSON().slice(0,19).replace("T"," "),idComercial:e,idEmpleado:this.$store.getters.user.idEmpleado,nombreEmpleado:this.$store.getters.user.nombre,idMesa:this.mesaSelect,order_details:t,total:this.total};return a},rulesText:Pe,rulesCantidad:qe,total:function(){return(parseFloat(this.subTotal)+parseFloat(this.impuestos)).toFixed(2)},subTotal:function(){return this.ItemSelects.reduce((function(e,t){return e+t.precio*t.cantidad}),0).toFixed(2)},impuestos:function(){return this.ItemSelects.reduce((function(e,t){return e+t.cantidad*(.13*t.precio)}),0).toFixed(2)},NombreCliente:{set:function(e){this.$store.dispatch("setOrderSelectAction",Object(Ce["a"])(Object(Ce["a"])({},this.$store.getters.orderSelect),{},{nombreCliente:e}))},get:function(){return this.$store.getters.orderSelect.nombreCliente}},MesaSelect:{set:function(e){this.$store.dispatch("setOrderSelectAction",Object(Ce["a"])(Object(Ce["a"])({},this.$store.getters.orderSelect),{},{idMesa:e}))},get:function(){return this.$store.getters.orderSelect.idMesa}},ItemSelects:{get:function(){return this.$store.getters.itemsMenuSelect.map((function(e){return{nombre_item:e.nombre_item,id_menu_item:e.id_menu_item,precio:e.precio,cantidad:e.cantidad?e.cantidad:1,comentario:e.comentario}}))}},ItemSelectsEdit:{get:function(){return this.$store.getters.itemsMenuSelectEdit}},ItemSelectsRemove:{set:function(e){this.$store.dispatch("setItemsMenuSelectRemoveAction",Object(ke["a"])(e))},get:function(){return this.$store.getters.itemsMenuSelectRemove}},validarEnvio:function(){return!(""===this.nombreCliente.trim()||null===this.nombreCliente||this.nombreCliente.trim().length<3||this.ItemSelects.length<1||!this.isFormValid)}},methods:{increment:function(e,t){var a={field:"cantidad",value:e+1};this.$store.dispatch("setItemMenuFieldAction",{payload:a,index:t})},decrement:function(e,t){var a={field:"cantidad",value:e-1};e>1&&this.$store.dispatch("setItemMenuFieldAction",{payload:a,index:t})},changeCantidad:function(e,t){var a={field:"cantidad",value:e};this.$store.dispatch("setItemMenuFieldAction",{payload:a,index:t})},changeComment:function(e,t){var a={field:"comentario",value:e};this.$store.dispatch("setItemMenuFieldAction",{payload:a,index:t})},removeItem:function(e,t){if(this.isEdit&&this.ItemSelectsEdit.some((function(t){return t.id_menu_item===e}))){var a=this.ItemSelects[t];this.ItemSelectsRemove=[].concat(Object(ke["a"])(this.ItemSelectsRemove),[a]),this.$store.dispatch("setItemsMenuSelectEditAction",this.$store.getters.itemsMenuSelectEdit.filter((function(t){return t.id_menu_item!==e})))}this.$store.dispatch("itemsMenuSelectAction",this.$store.getters.itemsMenuSelect.filter((function(t){return t.id_menu_item!==e})))},save:function(){this.createOrder(Object(Ce["a"])(Object(Ce["a"])({},this.Order),{},{importe:0}))},createOrder:function(e){var t=this;this.$services.orders.createOrder(e).then((function(e){if(e.data.ok){var a=e.data.order;if(t.$services.socketioService.sendOrderKitchroom(a),t.dialog=!1,e.data.isCashier){var r=a.table?a.table.numero:"Orden para llevar";t.doc=et(a.nombreCliente,a.employee.nombre,r,t.subTotal,t.impuestos,t.total,a.order_details,t.$store.getters.user.commercial),t.dialogPrint=!0}t.clearFormOrder(),Ze("success","Exito","Se creo la orden correctamente")}})).catch((function(e){console.log(e),Ze("error","Error :(","No se pudo crear la orden")}))},clearFormOrder:function(){this.nombreCliente="",this.$store.dispatch("itemsMenuSelectAction",[]),this.mesaSelect=null}}},rt=at,it=(a("0ed9"),a("169a")),st=a("8dd9"),nt=a("7efd"),ot=a("9dbe"),ct=a("a844"),lt=Object(l["a"])(rt,Fe,Le,!1,null,"1413a234",null),ut=lt.exports;d()(lt,{VBtn:_["a"],VCard:M["a"],VCardText:A["b"],VCol:k["a"],VDialog:it["a"],VDivider:Z["a"],VForm:F["a"],VIcon:y["a"],VList:Y["a"],VListItem:Q["a"],VListItemActionText:ee["a"],VListItemTitle:ee["d"],VRow:I["a"],VSheet:st["a"],VSlideGroup:nt["a"],VSlideItem:ot["a"],VTextField:L["a"],VTextarea:ct["a"]});var dt={name:"OrdersCreateOrder",props:{idOrder:{type:Number,required:!1}},components:{OrdersCardCategory:Te,OrdersFormData:ut}},mt=dt,pt=Object(l["a"])(mt,fe,be,!1,null,null,null),vt=pt.exports;d()(pt,{VCol:k["a"],VRow:I["a"]});var ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("masonry",{attrs:{cols:{default:3,1266:2,700:1},gutter:{default:"10px",700:"10px"}}},[e._l(e.orders.items,(function(t){return a("div",{key:t.idOrden,staticClass:"mb-10 mt-1 zoomInUp",attrs:{id:"items"}},[a("app-card-order",{attrs:{order:t,tipoCard:e.tipoCard},on:{doneOrderEmit:e.doneOrder,paymentOrderEmit:e.paymentOrder,deliveryOrderEmit:e.deliveryOrder}})],1)})),[a("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"600px",persistent:""},model:{value:e.dialogPrint,callback:function(t){e.dialogPrint=t},expression:"dialogPrint"}},[[a("v-row",{staticClass:"justify-center grey darken-4",attrs:{dense:""}},[a("v-btn",{staticClass:"white--text my-3",attrs:{depressed:"",color:"grey darken-4",width:"100%"},on:{click:function(t){e.dialogPrint=!1}}},[a("v-icon",{staticStyle:{"margin-left":"95%"},attrs:{size:"35"}},[e._v("mdi-close")])],1),a("v-col",{staticClass:"col-12 grey darken-4"},[a("iframe",{staticClass:"grey darken-4",staticStyle:{width:"100%",height:"800px"},attrs:{title:"Ticket",type:"application/pdf",src:e.doc}})])],1)]],2)]],2)},ft=[],bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{id:e.order.idOrden,"min-height":"auto","max-height":"auto"}},[a("v-list-item",{class:e.color,attrs:{"three-line":""}},[a("v-list-item-content",{staticClass:"white--text"},[a("v-list-item-title",{staticClass:"text-h5"},[e._v(e._s(e.order.nombreCliente))]),a("v-list-item-subtitle",{staticClass:"white--text"},[e._v("Mesero - Numero de Mesa")]),a("v-list-item-subtitle",{staticClass:"white--text"},[e._v(e._s(e.order.employee.nombre)+" "+e._s(e.order.employee.apellido)+" - "+e._s(e.order.table?"Mesa "+e.order.table.numero:"Para llevar")+" ")])],1)],1),a("v-responsive",{attrs:{"max-height":"auto"}},[a("v-list",{attrs:{"two-line":"",height:""}},[a("v-list-item-group",{attrs:{"active-class":"green--text",multiple:""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[e._l(e.order.order_details,(function(t){return[a("v-list-item",{key:t.idOrderDetail,on:{click:function(a){return e.changeDoneOrderDetail(t.idOrderDetail)}},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.active;return[a("v-list-item-action",[a("v-list-item-title",{staticClass:"font-weight-bold"},[e._v(" "+e._s(t.cantidad)+" ")])],1),a("v-list-item-content",[a("v-list-item-title",{staticStyle:{"white-space":"normal","word-wrap":"break-word",width:"60px","font-weight":"bold"}},[e._v(" "+e._s(t.menu_item.nombre_item)+" ")]),a("v-list-item-subtitle",{staticClass:"text--primary",staticStyle:{"white-space":"normal","word-wrap":"break-word",width:"60px"}},[e._v(" "+e._s(t.comentario)+" ")])],1),"Cocina"===e.tipoCard?a("v-list-item-action",[a("v-icon",i?{attrs:{color:"green darken-3"}}:{attrs:{color:"grey lighten-1",small:""}},[e._v(" mdi-thumb-up ")])],1):e._e(),"Cocina"!==e.tipoCard?a("v-list-item-action",[a("span",[e._v("$ "+e._s(t.importe))])]):e._e()]}}],null,!0)})]}))],2)],1),a("v-spacer"),"Cocina"!==e.tipoCard?a("v-row",{staticClass:"mt-0 mb-1 align-center justify-center d-block"},[a("v-divider"),a("br"),a("span",{staticClass:"ml-12 font-weight-bold d-block"},[e._v(" Total : $ "+e._s(e.total))])],1):e._e()],1),[a("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"600px",persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[[a("v-row",{staticClass:"justify-center white",attrs:{dense:""}},[a("v-btn",{staticClass:"red--text mt-2",attrs:{depressed:"",color:"grey lighten-4",width:"100%"},on:{click:function(t){e.dialog=!1}}},[a("v-icon",{staticStyle:{"margin-left":"95%"},attrs:{size:"35"}},[e._v("mdi-close")])],1),a("v-col",{staticClass:"col-12"},[a("orders-form-pay",{attrs:{changeState:e.paymentOrderEmit,order:e.order,total:e.total,subTotal:e.subTotal,impuestos:e.impuestos}})],1)],1)]],2)],"Mesero"===e.tipoCard?a("v-card-actions",{staticClass:"mt-5"},[a("v-btn",{staticClass:"mb-1",attrs:{small:"",absolute:"",bottom:"",left:"",fab:"",dark:"",color:"orange darken-2"}},[a("v-icon",{attrs:{size:"20"}},[e._v(" mdi-pencil ")])],1),a("v-spacer"),a("v-btn",{staticClass:"mb-1",attrs:{absolute:"",bottom:"",right:"",fab:"",dark:"",color:"success"},on:{click:e.doneOrderEmit}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-check ")])],1)],1):e._e(),"Cocina"===e.tipoCard?a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-1",attrs:{absolute:"",bottom:"",right:"",fab:"",dark:"",color:"success"},on:{click:e.doneOrderEmit}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-food ")])],1)],1):e._e(),"Mesero"===e.tipoCard?a("v-card-actions",{staticClass:"mt-5"},[a("v-btn",{staticClass:"mb-1",attrs:{small:"",absolute:"",bottom:"",left:"",fab:"",dark:"",color:"orange darken-2"},on:{click:function(t){return e.editOrder()}}},[a("v-icon",{attrs:{size:"20"}},[e._v(" mdi-pencil ")])],1),a("v-spacer"),a("v-btn",{staticClass:"mb-1",attrs:{absolute:"",bottom:"",right:"",fab:"",dark:"",color:"success"},on:{click:function(t){return e.deliveryOrderEmit()}}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-check ")])],1)],1):e._e(),"CajeroPay"===e.tipoCard?a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-1",attrs:{absolute:"",bottom:"",right:"",fab:"",dark:"",color:"success"},on:{click:function(t){e.dialog=!0}}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-cash ")])],1)],1):e._e()],2)},gt=[],xt={name:"AppCardOrder",components:{OrdersFormPay:He},data:function(){return{color:"black",selected:[],dialog:!1}},mounted:function(){var e=this;switch(this.tipoCard){case"Cocina":this.color="pink",this.order.order_details.forEach((function(t,a){t.done&&(e.selected=[].concat(Object(ke["a"])(e.selected),[a]))}));break;case"Mesero":this.color="blue darken-2";break;case"Cajero":this.color="indigo";break;case"CajeroPay":this.color="teal darken-2";break;default:this.color="black"}},props:{order:{type:Object,required:!0},tipoCard:{type:String,required:!0}},computed:{subTotal:function(){return this.order.order_details.reduce((function(e,t){return e+t.menu_item.precio*t.cantidad}),0).toFixed(2)},impuestos:function(){return this.order.order_details.reduce((function(e,t){return e+t.cantidad*(.13*t.menu_item.precio)}),0).toFixed(2)},total:function(){return(parseFloat(this.subTotal)+parseFloat(this.impuestos)).toFixed(2)}},methods:{doneOrderEmit:function(){this.$emit("doneOrderEmit",this.order.idOrden)},paymentOrderEmit:function(e){var t=this;this.$services.shareds.changeStateOrder(this.order.idOrden,e).then((function(e){e.data.ok&&t.$emit("paymentOrderEmit",t.order.idOrden,e.data.order,t.subTotal,t.impuestos,t.total)})).catch((function(e){console.log(e),toastMessage("error","Error :(","No se pudo realizar la orden")}))},deliveryOrderEmit:function(){this.$emit("deliveryOrderEmit",this.order.idOrden)},editOrder:function(){this.$router.push("/orders/".concat(this.order.idOrden,"/edit"))},toggleClass:function(){var e=document.getElementById("".concat(this.order.idOrden));e.classList.add("fadeOut")},changeDoneOrderDetail:function(e){"Cocina"===this.tipoCard&&this.$services.socketioService.changeDoneOrderDetail(e)}}},Ct=xt,_t=(a("f578"),a("6b53")),kt=Object(l["a"])(Ct,bt,gt,!1,null,"32f21daf",null),yt=kt.exports;d()(kt,{VBtn:_["a"],VCard:M["a"],VCardActions:A["a"],VCol:k["a"],VDialog:it["a"],VDivider:Z["a"],VIcon:y["a"],VList:Y["a"],VListItem:Q["a"],VListItemAction:$e["a"],VListItemContent:ee["b"],VListItemGroup:Ee["a"],VListItemSubtitle:ee["c"],VListItemTitle:ee["d"],VResponsive:_t["a"],VRow:I["a"],VSpacer:ce["a"]});var wt={name:"AppContainerCardsOrders",components:{AppCardOrder:yt},props:{tipoCard:{type:String,required:!0}},data:function(){return{orders:{items:[],hasItems:!1},dialogPrint:!1,doc:""}},mounted:function(){var e=this;this.$services.shareds.getOrders().then((function(t){t.data.ok&&(e.orders=t.data.collection)})),"Cocina"===this.tipoCard?this.$services.socketioService.getSendOrder((function(t){e.orders.items=[].concat(Object(ke["a"])(e.orders.items),[t])})):"Mesero"===this.tipoCard?this.$services.socketioService.getDoneOrder((function(t){e.orders.items=[].concat(Object(ke["a"])(e.orders.items),[t])})):"CajeroPay"===this.tipoCard&&this.$services.socketioService.getDeliveryOrder((function(t){e.orders.items=[].concat(Object(ke["a"])(e.orders.items),[t])}))},methods:{doneOrder:function(e){var t=this;this.$services.shareds.changeStateOrder(e).then((function(a){a.data.ok&&(a.data.isCashier?t.$services.socketioService.paidoutOrder(a.data.order):t.$services.socketioService.doneOrder(a.data.order),t.orders.items=t.orders.items.filter((function(t){return t.idOrden!==e})),Ze("success","Exito","Se realizo la orden correctamente"))})).catch((function(e){console.log(e),Ze("error","Error :(","No se pudo realizar la orden")}))},paymentOrder:function(e,t,a,r,i){this.$services.socketioService.paidoutOrder(t);var s=t.table?t.table.numero:"Orden para llevar";this.doc=et(t.nombreCliente,t.employee.nombre,s,a,r,i,t.order_details,this.$store.getters.user.commercial),this.dialogPrint=!0,this.orders.items=this.orders.items.filter((function(t){return t.idOrden!==e})),Ze("success","Exito","El pago de la orden se realizo correctamente")},deliveryOrder:function(e){var t=this;this.$services.shareds.changeStateOrder(e).then((function(a){a.data.ok&&(t.$services.socketioService.deliveryOrder(a.data.order),t.orders.items=t.orders.items.filter((function(t){return t.idOrden!==e})),Ze("success","Exito","Se entrego la orden correctamente"))})).catch((function(e){console.log(e),Ze("error","Error :(","No se pudo realizar la orden")}))}}},It=wt,Ot=(a("5a56"),Object(l["a"])(It,ht,ft,!1,null,"2c784824",null)),Vt=Ot.exports;d()(Ot,{VBtn:_["a"],VCol:k["a"],VDialog:it["a"],VIcon:y["a"],VRow:I["a"]});var St=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{staticClass:"mt-6",attrs:{justify:"center",align:"center"}},[a("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[a("v-btn",{staticClass:"white--text",attrs:{color:"grey darken-4",large:""},on:{click:function(t){return e.historial()}}},[a("v-icon",[e._v("mdi-history")]),e._v("   Ver Historial")],1),a("v-row",{staticClass:"mt-5 grey lighten-3",class:!1===e.verhistorial?"d-none":"",attrs:{justify:"center"}},[a("h2",{staticClass:"pa-5"},[a("span",[a("v-icon",{attrs:{color:"black",size:"32"}},[e._v("mdi-history")])],1),e._v(" Historial de Arqueo de Caja ")]),a("orders-cash-history",{attrs:{cashRegisters:e.cashRegisters}})],1)],1),a("v-col",{staticClass:"elevation-3",attrs:{cols:"12"}},[a("v-row",{staticClass:"mb-1 grey lighten-3 pb-5 pt-2"},[a("v-col",{attrs:{cols:"12"}},[a("h2",{staticClass:"font-weight-bold text-wrap mb-3"},[e._v("Arqueo de Caja")]),a("span",{staticClass:"text-body-1"},[e._v("Fecha de caja Actual: "),a("span",{staticClass:"font-weight-black"},[e._v(e._s(e.getFecha())+" ")]),a("br"),e._v(" Estado de caja Actual: "),a("span",{staticClass:"font-weight-bold",class:"Abierta"===e.estado?"green--text":"red--text"},[e._v(e._s(e.estado))])])])],1),a("v-row",{class:"Cerrada"===e.estado?"d-none":""},[a("v-col",{attrs:{cols:"4"}},[e._v(" Efectivo: "),a("br"),a("span",{staticClass:"font-weight-bold text-body-1"},[e._v("$"+e._s(e.efectivo.toFixed(2)))])]),a("v-col",{attrs:{cols:"4"}},[e._v(" Ingresos: "),a("br"),a("span",{staticClass:"font-weight-bold text-body-1"},[e._v("$"+e._s(e.credito.toFixed(2)))])]),a("v-col",{attrs:{cols:"4"}},[e._v(" Retiros: "),a("br"),a("span",{staticClass:"font-weight-bold text-body-1 red--text"},[e._v("$"+e._s(e.retiros.toFixed(2)))])]),a("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"12"}},[a("v-btn-toggle",{staticClass:"justify-center mr-0 pr-0 pl-0 ml-0",attrs:{group:"",mandatory:"",color:"light-blue darken-3"},model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[a("v-btn",{staticClass:"btn1",attrs:{text:""}},[a("v-icon",{staticClass:"mr-1",attrs:{size:"28",color:0===e.step?"light-blue darken-3":"black"}},[e._v("mdi-clipboard-list")]),a("span",{staticClass:"hidden-xs-only"},[e._v("Registro de Ordenes")])],1),a("v-btn",{staticClass:"btn1"},[a("v-icon",{staticClass:"mr-1",attrs:{size:"28",color:1===e.step?"light-blue darken-3":"black"}},[e._v("mdi-hand-coin")]),a("span",{staticClass:"hidden-xs-only"},[e._v("Registros Manuales")])],1)],1)],1),a("v-col",{attrs:{cols:"12"}},[a("v-window",{model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[a("v-window-item",{attrs:{value:0}},[a("orders-table-cash-orders",{on:{totalOrdersEmit:e.changeCash}})],1),a("v-window-item",{attrs:{value:1}},[a("orders-table-cash-actions",{attrs:{idCashRegister:e.IdCashRegister,boxActions:e.BoxActions},on:{changeExpensesEmit:e.changeExpenses,newBoxActionEmit:e.newBoxAction}})],1)],1)],1)],1),a("v-row",{staticClass:"align-center justify-center my-10"},["Abierta"===e.estado?a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"white--text text-h6",attrs:{"x-large":"",color:"red"}},"v-btn",i,!1),r),[e._v(" Cerrar Caja ")])]}}],null,!1,2697014561),model:{value:e.dialogCaja,callback:function(t){e.dialogCaja=t},expression:"dialogCaja"}},[a("v-card",[a("v-card-title",{staticClass:"black"},[a("span",{staticClass:"text-h5 white--text"},[e._v("Cierre de Caja")])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form2",model:{value:e.cerrarEnable,callback:function(t){e.cerrarEnable=t},expression:"cerrarEnable"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"mb-2",attrs:{cols:"12"}},[a("span",{staticClass:"text-h6"},[e._v("Fecha de caja Actual: "),a("span",{staticClass:"font-weight-black"},[e._v(e._s(e.getFecha())+" ")])])]),a("v-col",{attrs:{cols:"12"}},[a("h3",[e._v("Informe de saldo final en caja")]),a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-currency-usd",outlined:"",dense:"",type:"number",rules:e.rulesCash},model:{value:e.dinerofisico,callback:function(t){e.dinerofisico=e._n(t)},expression:"dinerofisico"}})],1),a("v-col",{attrs:{cols:"12"}},[a("h3",[e._v("Saldo totalizado en el sistema")]),a("h4",{staticClass:"font-weight-bold"},[e._v(" $ "+e._s(e.saldodelsistema.toFixed(2))+" ")])]),a("v-col",{attrs:{cols:"12"}},[a("h3",[e._v("Diferencia de saldo (faltante)")]),a("h4",{staticClass:"font-weight-bold"},[e._v(" $ "+e._s(e.diferencia.toFixed(2))+" ")])]),a("v-col",{attrs:{cols:"12"}},[a("h3",[e._v("Detalles y Obsevaciones")]),a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3"},model:{value:e.descripcion,callback:function(t){e.descripcion=t},expression:"descripcion"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"orange darken-1"},on:{click:e.closeCierre}},[e._v(" Cancelar ")]),a("v-btn",{staticClass:"white--text",attrs:{disabled:!e.cerrarEnable,color:"red darken-1"},on:{click:e.cerrarCaja}},[e._v(" Cerrar Caja ")])],1)],1)],1):e._e(),"Cerrada"===e.estado?a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2 ml-2 mt-2 white--text text-h6",attrs:{color:"green","x-large":""}},"v-btn",i,!1),r),[e._v(" Abrir Caja ")])]}}],null,!1,1006507870),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("Abrir Caja")])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",model:{value:e.accionEnable,callback:function(t){e.accionEnable=t},expression:"accionEnable"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"8",md:"8"}},[a("v-text-field",{attrs:{label:"Monto","prepend-inner-icon":"mdi-currency-usd","single-line":"",outlined:"",type:"number",rules:e.rulesCash},model:{value:e.monto,callback:function(t){e.monto=e._n(t)},expression:"monto"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"orange darken-1"},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{staticClass:"white--text",attrs:{disabled:!e.accionEnable,color:"blue darken-1"},on:{click:e.save}},[e._v(" Guardar ")])],1)],1)],1):e._e()],1)],1)],1)],1)},jt=[],$t=(a("1276"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{attrs:{"no-gutters":"",justify:"center",align:"center"}},[a("v-col",{staticClass:"elevation-3",attrs:{cols:"12"}},[a("v-data-table",{attrs:{headers:e.headers,items:e.orders.items,"sort-by":"fecha","sort-desc":!0}})],1)],1)],1)}),Et=[],Rt=["order_details","fechaOrden"],Mt={name:"OrdersTableCashOrders",mounted:function(){var e=this;this.$services.orders.getOrdersPaidout().then((function(t){if(t.data.ok){e.orders=t.data.collection;var a=e.orders.items.reduce((function(e,t){return t.total+e}),0);e.$emit("totalOrdersEmit",a)}})).catch((function(e){Ze("error","Error :(","No se cargar las ordenes"),console.log(e)})),this.$services.socketioService.getPaidoutOrder((function(t){t.order_details;var a=t.fechaOrden,r=Object(_e["a"])(t,Rt);e.$emit("totalOrdersEmit",t.total),e.orders.items=[].concat(Object(ke["a"])(e.orders.items),[Object(Ce["a"])(Object(Ce["a"])({},r),{},{fechaOrden:a.slice(0,19).replace("T"," ").split(",")})])}))},data:function(){return{headers:[{text:"Cliente",align:"start",value:"nombreCliente"},{text:"Total ($ USD)",value:"total"},{text:"Fecha",value:"fechaOrden"}],orders:{items:[],hasItems:!1}}}},At=Mt,Tt=a("8fea"),Ft=Object(l["a"])(At,$t,Et,!1,null,null,null),Lt=Ft.exports;d()(Ft,{VCol:k["a"],VContainer:T["a"],VDataTable:Tt["a"],VRow:I["a"]});var Dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{attrs:{"no-gutters":"",justify:"center",align:"center"}},[a("v-col",{staticClass:"elevation-3",attrs:{cols:"12"}},[a("v-data-table",{attrs:{headers:e.headers,items:e.boxActions.items,"sort-by":"fecha","sort-desc":!0},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2 ml-2 mt-2",attrs:{color:"primary",dark:""},on:{click:function(t){return e.reset()}}},"v-btn",i,!1),r),[e._v(" Registrar Accion ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("Registrar Nueva Accion")])]),a("v-card-text",[a("v-container",[a("v-form",{model:{value:e.accionEnable,callback:function(t){e.accionEnable=t},expression:"accionEnable"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Descripcion",rules:e.ruleRequired},model:{value:e.editedItem.descripcion,callback:function(t){e.$set(e.editedItem,"descripcion",t)},expression:"editedItem.descripcion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.tipos,label:"Tipo","item-text":"title","item-value":"value"},model:{value:e.editedItem.isInput,callback:function(t){e.$set(e.editedItem,"isInput",t)},expression:"editedItem.isInput"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Monto","prepend-inner-icon":"mdi-currency-usd","single-line":"",type:"number",rules:e.rulesCash},model:{value:e.editedItem.monto,callback:function(t){e.$set(e.editedItem,"monto",e._n(t))},expression:"editedItem.monto"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"orange darken-1"},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{staticClass:"white--text",attrs:{disabled:!e.accionEnable,color:"blue darken-1"},on:{click:e.save}},[e._v(" Guardar ")])],1)],1)],1)]},proxy:!0}])})],1)],1)],1)},Nt=[],Bt=["fecha","monto","isInput"],Pt={name:"OrdersTableCashActions",props:{idCashRegister:{type:Number,required:!0},boxActions:{type:Object,required:!0}},data:function(){return{accionEnable:!1,dialog:!1,headers:[{text:"Descripcion",align:"start",sortable:!1,value:"descripcion"},{text:"Monto ($ USD)",value:"monto"},{text:"Tipo",value:"tipo"},{text:"Fecha",value:"fecha"}],editedItem:{descripcion:"",monto:"",isInput:null},defaultItem:{descripcion:"",monto:"",isInput:null},rulesCash:Be.decimal2,ruleRequired:Be.required,tipos:[{title:"Ingresos",value:!0},{title:"Gastos",value:!1}]}},watch:{dialog:function(e){e||this.close()}},methods:{reset:function(){this.editedItem=this.defaultItem},close:function(){this.dialog=!1},save:function(){var e=this,t=(new Date).toISOString().slice(0,19).replace("T"," "),a=Object(Ce["a"])(Object(Ce["a"])({},this.editedItem),{},{fecha:t,idCashRegister:this.idCashRegister});this.$services.orders.createBoxAction(a).then((function(t){if(t.data.ok){var a=t.data.boxAction,r=a.fecha,i=a.monto,s=a.isInput,n=Object(_e["a"])(a,Bt);e.$emit("newBoxActionEmit",Object(Ce["a"])(Object(Ce["a"])({},n),{},{monto:i,tipo:s?"Ingresos":"Gastos",fecha:r.slice(0,19).replace("T"," ")})),s||e.$emit("changeExpensesEmit",i),Ze("success","Exito","Se realizo la accion correctamente")}})).catch((function(e){console.log(e),Ze("error","Error :(","No se pudo realizar la accion")})),this.close()}}},qt=Pt,zt=a("b974"),Gt=Object(l["a"])(qt,Dt,Nt,!1,null,null,null),Ut=Gt.exports;d()(Gt,{VBtn:_["a"],VCard:M["a"],VCardActions:A["a"],VCardText:A["b"],VCardTitle:A["c"],VCol:k["a"],VContainer:T["a"],VDataTable:Tt["a"],VDialog:it["a"],VForm:F["a"],VRow:I["a"],VSelect:zt["a"],VSpacer:ce["a"],VTextField:L["a"]});var Wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{attrs:{"no-gutters":"",justify:"center",align:"center"}},[a("v-col",{staticClass:"elevation-3",attrs:{cols:"12"}},[a("v-data-table",{attrs:{headers:e.headers,items:e.cashRegisters.items,"sort-by":"fecha","sort-desc":!0}})],1)],1)],1)},Ht=[],Jt={name:"OrdersCashHistory",props:{cashRegisters:{type:Object,required:!0}},data:function(){return{headers:[{text:"Fecha",align:"start",value:"fecha"},{text:"Efectivo",value:"efectivo"},{text:"Ingresos",value:"ingresos"},{text:"Gastos",value:"gastos"},{text:"Total",value:"saldo_final"},{text:"Faltante",value:"faltante"}]}}},Kt=Jt,Zt=Object(l["a"])(Kt,Wt,Ht,!1,null,null,null),Yt=Zt.exports;d()(Zt,{VCol:k["a"],VContainer:T["a"],VDataTable:Tt["a"],VRow:I["a"]});var Qt=["isInput","fecha"],Xt={name:"CashRegister",components:{OrdersTableCashOrders:Lt,OrdersTableCashActions:Ut,OrdersCashHistory:Yt},mounted:function(){var e=this;this.$services.orders.getCashRegister().then((function(t){if(t.data.ok){if(!t.data.cashRegister)return;e.getOrders(),e.getCashRegisters(),e.estado="Abierta",e.dialogCaja=!1,e.idCashRegister=t.data.cashRegister.idCashRegister}})).catch((function(e){console.log(e)}))},data:function(){return{estado:"Cerrada",efectivo:0,credito:0,retiros:0,step:0,dialog:!1,accionEnable:!1,monto:"",rulesCash:Be.decimal2,cerrar:!1,dinerofisico:"",descripcion:"",diferencia:0,saldodelsistema:0,dialogCaja:!1,cerrarEnable:!1,verhistorial:!1,idCashRegister:-1,boxActions:{items:[],hasItems:!1},cashRegisters:{hasItems:!1,items:[]}}},computed:{IdCashRegister:function(){return this.idCashRegister},BoxActions:function(){return this.boxActions},CashRegisters:function(){return this.cashRegisters}},watch:{dinerofisico:function(e){var t=this.efectivo+this.credito-this.retiros;this.saldodelsistema=t,this.diferencia=t-e},dialog:function(e){e||this.close()},dialogCaja:function(e){e||this.close()}},methods:{getOrders:function(){var e=this;this.$services.orders.getBoxActions().then((function(t){if(t.data.ok){e.boxActions=t.data.collection,e.boxActions.items=e.boxActions.items.map((function(e){var t=e.isInput,a=e.fecha,r=Object(_e["a"])(e,Qt);return Object(Ce["a"])(Object(Ce["a"])({},r),{},{isInput:t,tipo:t?"Ingreso":"Gasto",fecha:a.slice(0,19).replace("T"," ")})}));var a=e.boxActions.items.filter((function(e){return!e.isInput})),r=a.reduce((function(e,t){return t.monto+e}),0);e.retiros=r}})).catch((function(e){console.log(e),Ze("error","Error :(","No se pudieron cargar las acciones registradas")}))},getCashRegisters:function(){var e=this;this.$services.orders.getCashRegisters().then((function(t){t.data.ok&&(e.cashRegisters=t.data.collection)})).catch((function(e){console.log(e)}))},changeCash:function(e){this.efectivo+=parseFloat(e)},changeExpenses:function(e){this.retiros+=parseFloat(e)},newBoxAction:function(e){this.boxActions.items=[].concat(Object(ke["a"])(this.boxActions.items),[Object(Ce["a"])({},e)])},historial:function(){this.verhistorial=!this.verhistorial},close:function(){this.dialog=!1},save:function(){var e=this,t=(new Date).toISOString().slice(0,19).replace("T"," ").split(" "),a=t[0],r=t[1],i=this.$store.getters.user.idComercial;this.$services.orders.createCashRegister({idComercial:i,fecha:a,hora_inicio:r,saldo_inicial:this.monto}).then((function(t){t.data.ok&&(e.idCashRegister=t.data.cashRegister.idCashRegister,e.estado="Abierta",e.dialogCaja=!1,e.close(),Ze("success","Exito","Se abrio el arqueo de caja correctamente"))})).catch((function(e){console.log(e)}))},closeCierre:function(){this.dialogCaja=!1},cerrarCaja:function(){var e=this,t=this.efectivo+this.credito-this.retiros,a=(new Date).toISOString().slice(0,19).replace("T"," ").split(" "),r=a[1],i={estado:!1,efectivo:this.efectivo,saldo_final:t,dinero_real:this.dinerofisico,faltante:t-this.dinerofisico,hora_final:r};this.$services.orders.updateCashRegister(this.idCashRegister,i).then((function(t){t.data.ok&&(e.cashRegisters.items=[].concat(Object(ke["a"])(e.cashRegisters.items),[t.data.cashRegister]),e.estado="Cerrada",e.efectivo=0,e.dinerofisico=0,e.retiros=0,e.credito=0,e.idCashRegister=-1,e.close(),Ze("success","Exito","Se cerro el arqueo de caja correctamente"))})).catch((function(e){console.log(e),Ze("error","Error :(","No se pudo cerrar el arqueo de caja")}))},getFechaHora:function(){var e=new Date;return e.toLocaleString()},getFecha:function(){var e=new Date,t=["Dom","Lun","Mar","Mie","Jue","Vie","Sab"];return t[e.getDay()]+" "+e.getDate()+"/"+e.getMonth()+"/"+e.getFullYear()}}},ea=Xt,ta=a("a609"),aa=Object(l["a"])(ea,St,jt,!1,null,null,null),ra=aa.exports;d()(aa,{VBtn:_["a"],VBtnToggle:ta["a"],VCard:M["a"],VCardActions:A["a"],VCardText:A["b"],VCardTitle:A["c"],VCol:k["a"],VContainer:T["a"],VDialog:it["a"],VForm:F["a"],VIcon:y["a"],VRow:I["a"],VSpacer:ce["a"],VTextField:L["a"],VTextarea:ct["a"],VWindow:Re["a"],VWindowItem:Me["a"]});var ia={name:"Orders",components:{AppLayout:he,OrdersCreateOrEdit:vt,AppContainerCardsOrders:Vt,OrdersFormPay:He,CashRegister:ra},mounted:function(){this.isCashier=3===this.$store.getters.user.role.user_level.nivel_usuario,this.$store.dispatch("itemsMenuSelectAction",[]),this.step=parseInt(localStorage.getItem(this.$route.name))||0},data:function(){return{isCashier:!1,switch1:!0,step:0,orders:{items:[],hasItems:!1},show:!1,tCocina:"Cocina",tMesero:"Mesero",tCajero:"Cajero",tCajeroPay:"CajeroPay"}},watch:{step:function(){localStorage.setItem(this.$route.name,this.step)}}},sa=ia,na=(a("2a2e"),Object(l["a"])(sa,B,P,!1,null,"2952d85c",null)),oa=na.exports;d()(na,{VBtn:_["a"],VBtnToggle:ta["a"],VCol:k["a"],VContainer:T["a"],VIcon:y["a"],VRow:I["a"],VWindow:Re["a"],VWindowItem:Me["a"]});var ca=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){return e.close()}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v("Editar Orden")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",text:"",disabled:e.validarEnvio},on:{click:e.save}},[e._v(" Guardar ")])],1)],1),a("v-list",{staticClass:"pa-10 col-12",attrs:{"three-line":"",subheader:""}},[a("orders-create-or-edit")],1)],1)],1)],1)},la=[],ua=function(e,t){var a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(var i=0,s=a;i<s.length;i++){var n=s[i];if(e[n]!==t[n])return!1}return!0},da=ua,ma=["employee","table","order_details","idComercial"],pa=["menu_item","importe"],va=["menu_item","importe"],ha=["disponibilidad","url","precio","idCategoria"],fa=["disponibilidad","url","precio","idCategoria"],ba={name:"OrderEdit",components:{OrdersCreateOrEdit:vt},mounted:function(){var e=this,t=this.$route.params.id;t||this.$router.push("/orders"),this.dialog=!0,this.$store.dispatch("setIsValidEditFormAction",!1),this.$store.dispatch("itemsMenuSelectAction",[]),this.$store.dispatch("setItemsMenuSelectEditAction",[]),this.$store.dispatch("setItemsMenuSelectRemoveAction",[]),this.$store.dispatch("setOrderSelectAction",{nombreCliente:"",idMesa:null}),this.$services.orders.getOrder(t).then((function(t){var a=t.data.order,r=a.employee,i=a.table,s=a.order_details,n=a.idComercial,o=Object(_e["a"])(a,ma);e.$store.dispatch("setOrderSelectAction",Object(Ce["a"])(Object(Ce["a"])({},o),{},{idComercial:n,idEmpleado:r.idEmpleado,idMesa:i?i.idMesa:null}));var c=s.map((function(e){var t=e.menu_item,a=t.id_menu_item,r=t.nombre_item,i=t.disponibilidad,s=t.idCategoria,o=t.url,c=t.precio,l=(e.importe,Object(_e["a"])(e,pa));return Object(Ce["a"])(Object(Ce["a"])({},l),{},{id_menu_item:a,nombre_item:r,disponibilidad:i,idCategoria:s,idComercial:n,precio:c,url:o})})),l=s.map((function(e){var t=e.menu_item,a=t.id_menu_item,r=t.nombre_item,i=t.disponibilidad,s=t.idCategoria,o=t.url,c=t.precio,l=(e.importe,Object(_e["a"])(e,va));return Object(Ce["a"])(Object(Ce["a"])({},l),{},{id_menu_item:a,nombre_item:r,disponibilidad:i,idCategoria:s,idComercial:n,precio:c,url:o})}));e.$store.dispatch("itemsMenuSelectAction",Object(ke["a"])(c)),e.$store.dispatch("setItemsMenuSelectEditAction",Object(ke["a"])(l))})).catch((function(e){console.log(e)}))},data:function(){return{notifications:!1,sound:!0,widgets:!1,dialog:!1}},computed:{validarEnvio:function(){return""===this.$store.getters.orderSelect.nombreCliente.trim()||null===this.$store.getters.orderSelect.nombreCliente||this.$store.getters.orderSelect.nombreCliente.trim().length<3||this.$store.getters.itemsMenuSelect.length<1||!this.$store.getters.isValidEditForm}},methods:{close:function(){this.dialog=!1,this.$router.push("/orders")},save:function(){var e=this,t=[],a=Object(ke["a"])(this.$store.getters.itemsMenuSelect),r=this.$store.getters.itemsMenuSelectRemove.map((function(e){return e.id_menu_item}));this.$store.getters.itemsMenuSelectEdit.forEach((function(r){var i=e.$store.getters.itemsMenuSelect.find((function(e){return e.id_menu_item===r.id_menu_item}));i&&(da(r,i)||(t=[].concat(Object(ke["a"])(t),[i])),a.some((function(e){return e.id_menu_item===r.id_menu_item}))&&(a=a.filter((function(e){return e.id_menu_item!==r.id_menu_item}))))}));var i=Object(Ce["a"])({},this.$store.getters.orderSelect);a=a.map((function(e){e.disponibilidad,e.url;var t=e.precio,a=(e.idCategoria,Object(_e["a"])(e,ha));return Object(Ce["a"])(Object(Ce["a"])({},a),{},{idOrden:i.idOrden,importe:a.cantidad*t})})),t=t.map((function(e){e.disponibilidad,e.url;var t=e.precio,a=(e.idCategoria,Object(_e["a"])(e,fa));return Object(Ce["a"])(Object(Ce["a"])({},a),{},{idOrden:i.idOrden,importe:a.cantidad*t})}));var s=a.reduce((function(e,t){return e+t.precio*t.cantidad}),0)+t.reduce((function(e,t){return e+t.precio*t.cantidad}),0),n=a.reduce((function(e,t){return e+t.cantidad*(.13*t.precio)}),0)+t.reduce((function(e,t){return e+t.cantidad*(.13*t.precio)}),0),o=s+n;i=Object(Ce["a"])(Object(Ce["a"])({},i),{},{total:o,newMenuItems:a,itemsMenuEdit:t,itemsMenuRemove:r}),this.$services.orders.updateOrder(i,i.idOrden).then((function(t){t.data.ok&&(e.$services.socketioService.sendOrderKitchroom(t.data.order),e.$store.dispatch("itemsMenuSelectAction",[]),e.$store.dispatch("setItemsMenuSelectEditAction",[]),e.$store.dispatch("setItemsMenuSelectRemoveAction",[]),e.$store.dispatch("setOrderSelectAction",{nombreCliente:"",idMesa:null}),Ze("success","Exito","Se actualizo la orden correctamente"),e.$router.push("/orders"))})).catch((function(e){Ze("error","Error :(","No se pudo actualizar la orden"),console.log(e)}))}}},ga=ba,xa=a("71d9"),Ca=Object(l["a"])(ga,ca,la,!1,null,null,null),_a=Ca.exports;d()(Ca,{VBtn:_["a"],VCard:M["a"],VDialog:it["a"],VIcon:y["a"],VList:Y["a"],VRow:I["a"],VSpacer:ce["a"],VToolbar:xa["a"],VToolbarItems:le["a"],VToolbarTitle:le["b"]});var ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("app-layout",[a("v-container",[a("v-row",{staticClass:"mt-5 mb-5 align-center justify-center"},[a("v-btn-toggle",{staticClass:"justify-center mr-0 pr-0 pl-0 ml-0 green--text",attrs:{shaped:"",borderless:"",mandatory:"",color:"green accent-4",id:"toggle1"},model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[a("v-btn",{staticClass:"btn1"},[a("v-icon",{staticClass:"mr-1",attrs:{size:"28",color:0===e.step?"green accent-4":"black"}},[e._v("mdi-new-box")]),a("span",{staticClass:"hidden-xs-only"},[e._v("Ordenes Entrantes")])],1),a("v-btn",{staticClass:"btn1"},[a("v-icon",{staticClass:"mr-1",attrs:{size:"28",color:1===e.step?"green accent-4":"black"}},[e._v("mdi-menu")]),a("span",{staticClass:"hidden-xs-only"},[e._v("Estado de Platillos")])],1)],1)],1),a("v-row",{staticClass:"align-center justify-center"},[a("v-window",{staticClass:"col-12",model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[a("v-window-item",{attrs:{value:0}},[a("div",{staticClass:"orders col-12"},[a("v-container",{attrs:{fluid:""}},[a("app-container-cards-orders",{attrs:{tipoCard:"Cocina"}})],1)],1)]),a("v-window-item",{attrs:{value:1}},[a("v-row",{staticClass:"justify-center"},[a("v-col",{attrs:{cols:"12",sm:"10",md:"8"}},[a("div",[a("div",{staticClass:"text-center mb-4 d-block"},[a("span",{staticClass:"text-h5 mr-2"},[e._v("Establecer el estado de los platillos")])]),a("v-alert",{attrs:{outlined:"",type:"warning",prominent:"",border:"left",transition:"scale-transition"}},[e._v(" Puede Cambiar el estado de los platillos del menú, considere que al establecerlos como No disponibles el mesero no podrá verlos el menú. "),a("br"),a("br"),e._v("Marca con un check "),a("v-icon",{attrs:{color:"orange"}},[e._v("mdi-checkbox-outline")]),e._v(" los items disponibles "),a("br"),a("br"),e._v("Los items con check vacío "),a("v-icon",{attrs:{color:"orange"}},[e._v("mdi-checkbox-blank-outline")]),e._v(" No estarán disponibles "),a("br")],1)],1)]),a("v-col",{attrs:{cols:"12",sm:"10",md:"8"}},[a("kitchen-items-state")],1)],1)],1)],1)],1)],1)],1)},ya=[],wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{staticClass:"col-12 ml-0 mr-0 pl-0 pr-0"},[a("v-row",{staticClass:"col-12 ml-0 mr-0 pl-0 pr-0",staticStyle:{"margin-bottom":"-40px"}},[a("v-col",{staticClass:"col-12 pl-0 pr-0 d-inline-flex textBuscar"},[a("v-text-field",{staticClass:"rounded-r-0 rounded-l-lg mr-1",attrs:{label:"Buscar",outlined:"",clearable:"",color:"teal darken-2"},model:{value:e.txt_buscar,callback:function(t){e.txt_buscar=t},expression:"txt_buscar"}}),a("v-btn",{staticClass:"rounded-l-0 rounded-r-lg btnBuscar",attrs:{color:"teal darken-2",depressed:"","min-height":"65%"},on:{click:function(t){return e.filterMenuByName()}}},[a("v-icon",{attrs:{size:"30",color:"white"}},[e._v("mdi-magnify")])],1)],1)],1),a("v-row",{staticClass:"col-12 ml-0 mr-0 pl-0 pr-0"},[a("v-card",{staticClass:"col-12",attrs:{color:"rgb(247, 247, 247)"}},[a("v-card-title",{staticClass:"text-h6 font-weight-regular justify-space-between"},[a("v-btn",{attrs:{disabled:1===e.step,text:""},on:{click:function(t){return e.seleccionarCategoria(null)}}},[e._v(" Volver ")]),a("span",[e._v("Menú")])],1),a("v-window",{model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[a("v-window-item",{attrs:{value:1}},[a("v-row",{staticClass:"ml-0 "},[a("v-col",{attrs:{cols:"12"}},[a("masonry",{attrs:{cols:{default:4,1266:3,700:2,600:2},gutter:{default:"10px",700:"10px"}}},e._l(e.categories.items,(function(t,r){return a("div",{key:t.idCategoria,staticClass:"mb-4 mt-1 zoomInUp",attrs:{id:"items"}},[a("v-btn",{staticClass:"caption mx-auto",attrs:{"min-height":"120","min-width":"100%","max-width":"100%",color:e.colors[r],id:"boton_categoria",disabled:2===e.step,depressed:""},on:{click:function(){return e.seleccionarCategoria(t.idCategoria)}}},[a("span",{staticClass:"boton_a"},[e._v(e._s(t.nombreCategoria))])])],1)})),0)],1)],1)],1),a("v-window-item",{attrs:{value:2}},[a("v-row",{staticClass:"ml-2"},[a("v-col",{staticClass:"col-12 mx-auto"},[a("v-list",{attrs:{subheader:"","two-line":"",flat:"",color:"rgb(247, 247, 247)"}},[a("v-list-item-group",{attrs:{multiple:""},model:{value:e.ItemSelectsMenu,callback:function(t){e.ItemSelectsMenu=t},expression:"ItemSelectsMenu"}},[e._l(e.items_menu,(function(t){return[a("v-list-item",{key:t.id_menu_item,attrs:{value:t},on:{click:function(e){t.disponibilidad=!t.disponibilidad}}},[a("v-list-item-title",[e._v(" "+e._s(t.nombre_item)+" "),a("v-list-item-subtitle",[e._v(" "+e._s(t.detalles_item)+" ")])],1),a("v-list-item-action",[a("v-checkbox",{attrs:{color:"primary","input-value":t.disponibilidad}})],1)],1)]}))],2)],1)],1)],1)],1)],1),a("v-card-actions")],1)],1),a("v-col",{staticClass:"mt-5 mx-auto",attrs:{cols:"12",xs:"10",md:"12"}},[a("v-btn",{attrs:{"x-large":"",block:"",depressed:"",color:"primary",disabled:0===e.ItemSelectsMenu.length},on:{click:e.changeItemList}},[a("v-icon",[e._v("mdi-content-save")]),e._v(" Guardar Cambios")],1)],1)],1)},Ia=[],Oa={name:"KitchenItemsState",components:{},mounted:function(){var e=this;this.$services.shareds.getCategories().then((function(t){t.data.ok?e.categories=t.data.collection:console.log("El servidor revento")})).catch((function(e){console.log(e)})),this.$services.shareds.getMenuItems().then((function(t){t.data.ok?e.menuItems=t.data.collection:console.log("El servidor revento")})).catch((function(e){console.log(e)}))},data:function(){return{categories:{hasItems:!1,items:[],total:0},menuItems:{hasItems:!1,items:[],total:0},txt_buscar:"",step:1,message4:"Buscar",message_comentarios:"Comentarios",total_sample:"0.00",c1:"rgb(52, 166, 186)",icon1:"mdi-arrow-right-box",cat:"Categorias",items_menu:[],items_menu_for_filter:this.menuItems,itemMenuSelects:[],colors:Ie}},computed:{ItemSelectsMenu:{set:function(e){this.itemMenuSelects=e},get:function(){return this.itemMenuSelects}}},methods:{changeItemList:function(){this.itemMenuSelects=this.itemMenuSelects.map((function(e){return e.id_menu_item})),this.$services.socketioService.changeStateMenuItems(this.itemMenuSelects),this.clearSelect()},clearSelect:function(){this.itemMenuSelects=[],this.step=1},seleccionarCategoria:function(e){e?(this.items_menu=this.menuItems.items.filter((function(t){return t.idCategoria===e})),this.cat=e,this.step++):null===e?(this.txt_buscar="",this.step=1):(this.cat="Categorías",this.step--)},filterMenuByName:function(){if(""!==this.txt_buscar&&null!==this.txt_buscar&&0!==this.txt_buscar.value&&""!==this.txt_buscar.value){var e=this.txt_buscar.toLowerCase().trim();return this.items_menu=this.menuItems.items.filter((function(t){return t.nombre_item.toLowerCase().indexOf(e)>-1})),this.step=2,this.items_menu}this.step--}}},Va=Oa,Sa=(a("51c7"),Object(l["a"])(Va,wa,Ia,!1,null,"57f88faa",null)),ja=Sa.exports;d()(Sa,{VBtn:_["a"],VCard:M["a"],VCardActions:A["a"],VCardTitle:A["c"],VCheckbox:je["a"],VCol:k["a"],VIcon:y["a"],VList:Y["a"],VListItem:Q["a"],VListItemAction:$e["a"],VListItemGroup:Ee["a"],VListItemSubtitle:ee["c"],VListItemTitle:ee["d"],VRow:I["a"],VTextField:L["a"],VWindow:Re["a"],VWindowItem:Me["a"]});var $a={name:"KitchenRoom",components:{AppLayout:he,AppContainerCardsOrders:Vt,KitchenItemsState:ja},mounted:function(){this.step=parseInt(localStorage.getItem(this.$route.name))||0},data:function(){return{show:!1,step:0,tCocina:"Cocina"}},watch:{step:function(){localStorage.setItem(this.$route.name,this.step)}}},Ea=$a,Ra=Object(l["a"])(Ea,ka,ya,!1,null,null,null),Ma=Ra.exports;d()(Ra,{VAlert:R["a"],VBtn:_["a"],VBtnToggle:ta["a"],VCol:k["a"],VContainer:T["a"],VIcon:y["a"],VRow:I["a"],VWindow:Re["a"],VWindowItem:Me["a"]});var Aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("manager-layout",[a("manager-table-categories")],1)},Ta=[],Fa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"pb-2 ma-3",attrs:{elevation:"10"}},[a("v-card-title",{staticClass:"justify-center pt-8"},[e._v(" Categorias "),a("v-spacer"),a("v-text-field",{staticClass:"mr-2",attrs:{"append-icon":"mdi-magnify",label:"Buscar",outlined:"",clearable:"",color:"cyan darken-4","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticClass:"justify-center ma-3 elevation-1",attrs:{headers:e.headers,items:e.categories.items,search:e.search,height:500},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"green",dark:""}},"v-btn",i,!1),r),[a("v-icon",[e._v("mdi-plus-box")]),a("span",{staticClass:"hidden-xs-only ml-1"},[e._v("Nueva Categoria")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",model:{value:e.isFormValid,callback:function(t){e.isFormValid=t},expression:"isFormValid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"8",md:"8"}},[a("v-text-field",{attrs:{outlined:"",label:"Nombre de la Categoria",rules:e.ruleRequired},model:{value:e.editedItem.nombreCategoria,callback:function(t){e.$set(e.editedItem,"nombreCategoria",t)},expression:"editedItem.nombreCategoria"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{disabled:!e.isFormValid,color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Guardar ")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-4",attrs:{color:"indigo accent-3"},on:{click:function(t){return e.editItem(r)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{color:"deep-orange accent-3"},on:{click:function(t){return e.deleteItem(r.idCategoria)}}},[e._v(" mdi-delete ")])]}}],null,!0)})],1)},La=[],Da=(a("d3b7"),{name:"ManagerTableCategories",data:function(){return{isFormValid:!1,search:"",dialog:!1,headers:[{text:"Nombre",align:"start",sortable:!0,value:"nombreCategoria"},{text:"Acciones",value:"actions",sortable:!1}],categories:{items:[],hasItems:!1},editedIndex:-1,editedItem:{nombreCategoria:""},ruleRequired:Be.required}},mounted:function(){var e=this;this.$services.shareds.getCategories().then((function(t){e.categories=t.data.collection})).catch((function(e){console.log(e)}))},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva Categoria":"Editar Categoria"}},watch:{dialog:function(e){e||this.close()}},methods:{editItem:function(e){this.editedIndex=this.categories.items.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this;Ye((function(){t.$services.manager.deleteCategory(e).then((function(a){a.data.ok&&(t.categories.items=t.categories.items.filter((function(t){return t.idCategoria!==e})))})).catch((function(e){console.log(e)}))}))},close:function(){this.dialog=!1,this.editedItem={nombreCategoria:""},this.editedIndex=-1},save:function(){var e=this;this.editedIndex>-1?this.$services.manager.updateCategory(this.editedItem.idCategoria,this.editedItem).then((function(t){t.data.ok&&(Object.assign(e.categories.items[e.editedIndex],t.data.category),Ze("success","Exito","Se creo la categoria correctamente"))})).catch((function(e){console.log(e),Ze("error","Error :(","No se pudo crear la categoria")})).finally((function(){e.close()})):this.$services.manager.createCategory(this.editedItem).then((function(t){t.data.ok&&(e.categories.items=[].concat(Object(ke["a"])(e.categories.items),[t.data.category]),Ze("success","Exito","Se creo la categoria correctamente"))})).catch((function(e){console.log(e),Ze("error","Error :(","No se pudo crear la categoria")})).finally((function(){e.close()}))}}}),Na=Da,Ba=Object(l["a"])(Na,Fa,La,!1,null,"f6c42176",null),Pa=Ba.exports;d()(Ba,{VBtn:_["a"],VCard:M["a"],VCardActions:A["a"],VCardText:A["b"],VCardTitle:A["c"],VCol:k["a"],VContainer:T["a"],VDataTable:Tt["a"],VDialog:it["a"],VForm:F["a"],VIcon:y["a"],VRow:I["a"],VSpacer:ce["a"],VTextField:L["a"],VToolbar:xa["a"]});var qa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("manager-top-bar"),a("v-container",[a("v-row",{staticClass:"pb-xs-2 ma-sm-10 justify-center fill-height justify-center align-center"},[e._t("default")],2)],1)],1)},za=[],Ga=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-app-bar",{attrs:{color:"black",dark:"","shrink-on-scroll":"",src:a("bfe3")}},[r("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),r("v-toolbar-title",[e._v(e._s(e.currentRouteName))]),r("v-spacer"),r("app-menu-bar-user")],1),r("v-navigation-drawer",{attrs:{dark:"",src:a("1d40"),absolute:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list",[r("v-list-item",[r("v-list-item-avatar",[r("v-img",{attrs:{src:a("e805")}})],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Restaurant Manager")])],1)],1),r("v-divider"),e._l(e.items,(function(t,a){return r("div",{key:t.title+a},[t.subLinks?r("v-list-group",{key:t.title,staticClass:"mr-1",attrs:{"no-action":"","prepend-icon":t.icon,value:!1},scopedSlots:e._u([{key:"activator",fn:function(){return[r("v-list-item-title",{staticStyle:{"margin-left":"-23px"}},[e._v(e._s(t.title))])]},proxy:!0}],null,!0)},[e._l(t.subLinks,(function(t){return[r("v-list-item",{key:t.title,staticStyle:{"margin-left":"-40px"},attrs:{to:t.path}},[r("v-list-item-icon",[r("v-icon",[e._v(e._s(t.icon))])],1),r("v-list-item-title",{staticStyle:{"margin-left":"-23px","white-space":"normal","word-wrap":"break-word",width:"80px"}},[e._v(e._s(t.title))])],1)]}))],2):r("v-list-item",{staticClass:"v-list-item",attrs:{to:t.path}},[r("v-list-item-icon",{staticClass:"mr-2"},[r("v-icon",[e._v(e._s(t.icon))])],1),r("v-list-item-title",{domProps:{textContent:e._s(t.title)}})],1)],1)}))],2)],1)],1)},Ua=[],Wa={name:"ManagerTopBar",components:{AppMenuBarUser:ie},data:function(){return{drawer:null,model:null,items:[{title:Gi.manager.title,icon:"mdi-view-dashboard",path:Gi.manager.path},{title:"Empleados",icon:"mdi-card-account-details",subLinks:[{title:Gi.employees.title,icon:"mdi-format-list-bulleted",path:Gi.employees.path},{title:Gi.employeeCreate.title,icon:"mdi-plus-circle",path:Gi.employeeCreate.path}]},{title:"Items del Menu",icon:"mdi-food-fork-drink",subLinks:[{title:Gi.menuItems.title,icon:"mdi-format-list-bulleted",path:Gi.menuItems.path},{title:Gi.menuItemCreate.title,icon:"mdi-plus-circle",path:Gi.menuItemCreate.path}]},{title:"Categorias del Menu",icon:"mdi-alpha-c-circle",path:Gi.categories.path},{title:"Mesas de la Sucursal",icon:"mdi-table-chair",subLinks:[{title:Gi.tables.title,icon:"mdi-format-list-bulleted",path:Gi.tables.path},{title:Gi.tableCreate.title,icon:"mdi-plus-circle",path:Gi.tableCreate.path}]}],valuesRouter:Object.values(Gi)}},computed:{currentRouteName:function(){var e=this,t=this.valuesRouter.find((function(t){return t.name===e.$route.name})).title;return t}}},Ha=Wa,Ja=a("5bc1"),Ka=a("56b0"),Za=a("f774"),Ya=Object(l["a"])(Ha,Ga,Ua,!1,null,null,null),Qa=Ya.exports;d()(Ya,{VAppBar:oe["a"],VAppBarNavIcon:Ja["a"],VDivider:Z["a"],VIcon:y["a"],VImg:w["a"],VList:Y["a"],VListGroup:Ka["a"],VListItem:Q["a"],VListItemAvatar:X["a"],VListItemContent:ee["b"],VListItemIcon:te["a"],VListItemTitle:ee["d"],VNavigationDrawer:Za["a"],VSpacer:ce["a"],VToolbarTitle:le["b"]});var Xa={name:"ManagerLayout",components:{ManagerTopBar:Qa}},er=Xa,tr=Object(l["a"])(er,qa,za,!1,null,null,null),ar=tr.exports;d()(tr,{VContainer:T["a"],VRow:I["a"]});var rr={name:"Categories",components:{ManagerTableCategories:Pa,ManagerLayout:ar}},ir=rr,sr=Object(l["a"])(ir,Aa,Ta,!1,null,null,null),nr=sr.exports,or=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("manager-layout",[a("v-row",{staticClass:"fill-height justify-center align-center"},[a("v-col",{attrs:{cols:"12",sm:"12",md:"10"}},[a("info-restaurant")],1)],1)],1)},cr=[],lr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"ma-3",attrs:{elevation:"10"}},[a("v-card-title",{staticClass:"justify-center pt-8"},[e._v(" Informacion del Restaurante "),a("v-spacer"),a("v-btn",{attrs:{color:"orange",dark:"",fab:"",small:""},on:{click:function(t){return e.enableInputs()}}},[a("v-icon",[e._v("mdi-pencil")])],1)],1),a("v-row",[a("v-card-text",[a("v-container",[a("v-form",{model:{value:e.isFormValid,callback:function(t){e.isFormValid=t},expression:"isFormValid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"7",md:"7"}},[a("v-text-field",{attrs:{outlined:"",label:"Nombre",rules:e.ruleRequired,disabled:!e.enableinput},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("v-col",{attrs:{cols:"12",sm:"5",md:"5"}},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"####-####",expression:"'####-####'"}],attrs:{outlined:"",label:"Numero de Telefono",rules:e.rulePhoneS,disabled:!e.enableinput},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),a("v-col",{staticClass:"col-12"},[a("v-textarea",{attrs:{outlined:"",label:"Direccion",rows:"2",rules:e.ruleRequired,disabled:!e.enableinput},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1)],1)],1)],1),a("v-row",{staticClass:"justify-end"},[a("v-col",{attrs:{cols:"12",sm:"5",md:"3"}},[a("v-btn",{attrs:{disabled:!e.isFormValid,color:"green",dark:"",block:""},on:{click:e.saveData}},[a("v-icon",[e._v("mdi-content-save")]),a("span",{staticClass:"hidden-xs-only ml-1"},[e._v("Guardar")])],1)],1)],1)],1)],1)],1)},ur=[],dr={name:"InfoRestaurant",data:function(){return{isFormValid:!1,enableinput:!1,ruleRequired:Be.required,rulePhoneS:Be.phonesize,name:"Restaurante Palomadas",phone:"1234-5678",address:"Alameda Roosevelt, Centro Comercial Granada S.S RBD SALVADOR MUNDO"}},methods:{enableInputs:function(){!1===this.enableinput?this.enableinput=!0:this.enableinput=!1},saveData:function(){this.enableinput=!1}}},mr=dr,pr=Object(l["a"])(mr,lr,ur,!1,null,null,null),vr=pr.exports;d()(pr,{VBtn:_["a"],VCard:M["a"],VCardText:A["b"],VCardTitle:A["c"],VCol:k["a"],VContainer:T["a"],VForm:F["a"],VIcon:y["a"],VRow:I["a"],VSpacer:ce["a"],VTextField:L["a"],VTextarea:ct["a"]});var hr={name:"Manager",components:{InfoRestaurant:vr,ManagerLayout:ar}},fr=hr,br=Object(l["a"])(fr,or,cr,!1,null,"16b2d738",null),gr=br.exports;d()(br,{VCol:k["a"],VRow:I["a"]});var xr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("manager-layout",[a("manager-table-employees")],1)},Cr=[],_r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{elevation:"10"}},[a("v-card-title",{staticClass:"justify-center pt-8"},[e._v(" Registro de Empleados "),a("v-spacer"),a("v-text-field",{staticClass:"mr-2",attrs:{"append-icon":"mdi-magnify",label:"Buscar",outlined:"",clearable:"",color:"brown","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticClass:"justify-center ma-3 elevation-1",attrs:{headers:e.headers,items:e.employees.items,search:e.search,height:500},scopedSlots:e._u([{key:"item.actions",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-4",attrs:{color:"indigo accent-3"},on:{click:function(t){return e.editItem(r.idEmpleado)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{color:"deep-orange accent-3"},on:{click:function(t){return e.deleteItem(r.idEmpleado)}}},[e._v(" mdi-delete ")])]}}],null,!0)})],1)},kr=[],yr={name:"TableEmployees",mounted:function(){var e=this;this.$services.manager.getEmployees().then((function(t){e.employees=t.data.collection})).catch((function(e){console.log(e)}))},data:function(){return{employees:{},isFormValid:!1,search:"",headers:[{text:"Nombre",align:"start",sortable:!0,value:"nombre"},{text:"Apellido",align:"start",sortable:!0,value:"apellido"},{text:"Rol",align:"start",sortable:!0,value:"role.nombreRol",width:"90px"},{text:"Usuario",align:"start",sortable:!0,value:"username"},{text:"Edad",align:"start",sortable:!0,value:"edad"},{text:"Telefono",align:"start",sortable:!0,value:"telefono"},{text:"Dirección",align:"start",sortable:!0,value:"direccion"},{text:"Email",align:"start",sortable:!0,value:"email"},{text:"Acciones",value:"actions",sortable:!1,width:"100px"}],editedIndex:-1,editedItem:{name:"",lastname:"",rol:"",user:"",pass:"",age:"",phonenumber:"",address:"",email:""},defaultItem:{name:"",lastname:"",rol:"",user:"",pass:"",age:"",phonenumber:"",address:"",email:""},ruleRequired:Be.required,ruleAge:Be.integer,ruleOnlyAlpha:Be.alpha,rulePass:Be.password,ruleEmail:Be.email,rulePhoneS:Be.phonesize}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Empleado":"Editar Info del Empleado"}},methods:{editItem:function(e){this.$router.push("/manager/employees/".concat(e,"/edit"))},deleteItem:function(e){var t=this;Ye((function(){t.$services.manager.deleteEmployee(e).then((function(a){t.employees.items.filter((function(t){return t.id===e}))})).catch((function(e){console.log(e)}))}))}}},wr=yr,Ir=Object(l["a"])(wr,_r,kr,!1,null,"0512b6e5",null),Or=Ir.exports;d()(Ir,{VCard:M["a"],VCardTitle:A["c"],VDataTable:Tt["a"],VIcon:y["a"],VSpacer:ce["a"],VTextField:L["a"]});var Vr={name:"Employees",components:{ManagerTableEmployees:Or,ManagerLayout:ar}},Sr=Vr,jr=Object(l["a"])(Sr,xr,Cr,!1,null,null,null),$r=jr.exports,Er=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("manager-layout",[a("v-card",[a("v-card-title",{staticClass:"justify-center"},[a("span",{staticClass:"text-h5 pa-5"},[e._v("Ingresa los datos")])]),a("v-card-text",[a("v-container",[a("v-form",{staticClass:"mx-auto",staticStyle:{"max-width":"600px"},model:{value:e.isFormValid,callback:function(t){e.isFormValid=t},expression:"isFormValid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{outlined:"",label:"Nombres",rules:e.ruleOnlyAlpha},model:{value:e.editedItem.nombre,callback:function(t){e.$set(e.editedItem,"nombre",t)},expression:"editedItem.nombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{outlined:"",label:"Apellidos",rules:e.ruleOnlyAlpha},model:{value:e.editedItem.apellido,callback:function(t){e.$set(e.editedItem,"apellido",t)},expression:"editedItem.apellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{outlined:"",label:"Email",rules:e.ruleEmail},model:{value:e.editedItem.email,callback:function(t){e.$set(e.editedItem,"email",t)},expression:"editedItem.email"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{outlined:"",label:"Nombre de usuario",rules:e.ruleRequired},model:{value:e.editedItem.username,callback:function(t){e.$set(e.editedItem,"username",t)},expression:"editedItem.username"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[e.$route.params.id?a("v-text-field",{attrs:{type:"password",outlined:"",label:"Contraseña"},model:{value:e.editedItem.password,callback:function(t){e.$set(e.editedItem,"password",t)},expression:"editedItem.password"}}):a("v-text-field",{attrs:{type:"password",outlined:"",label:"Contraseña",rules:e.rulePass},on:{change:function(t){return e.setRule()}},model:{value:e.editedItem.password,callback:function(t){e.$set(e.editedItem,"password",t)},expression:"editedItem.password"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[e.$route.params.id?a("v-text-field",{attrs:{type:"password",outlined:"",label:"Verificar Contraseña"},model:{value:e.editedItem.passwordVerify,callback:function(t){e.$set(e.editedItem,"passwordVerify",t)},expression:"editedItem.passwordVerify"}}):a("v-text-field",{attrs:{type:"password",outlined:"",label:"Verificar Contraseña",rules:e.ruleVePass},model:{value:e.editedItem.passwordVerify,callback:function(t){e.$set(e.editedItem,"passwordVerify",t)},expression:"editedItem.passwordVerify"}})],1),a("v-col",{attrs:{cols:"12",sm:"5",md:"5"}},[a("v-select",{attrs:{items:e.SelectRol.items,label:"Rol",outlined:"","item-text":"nombreRol","item-value":"idRol",rules:e.ruleRequired,"single-line":""},model:{value:e.editedItem.idRol,callback:function(t){e.$set(e.editedItem,"idRol",e._n(t))},expression:"editedItem.idRol"}})],1),a("v-col",{attrs:{cols:"12",sm:"5",md:"5"}},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"####-####",expression:"'####-####'"}],attrs:{outlined:"",label:"Numero de Telefono",rules:e.rulePhoneS},model:{value:e.editedItem.telefono,callback:function(t){e.$set(e.editedItem,"telefono",t)},expression:"editedItem.telefono"}})],1),a("v-col",{attrs:{cols:"12",sm:"2",md:"2"}},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"##",expression:"'##'"}],attrs:{outlined:"",label:"Edad",rules:e.ruleAge},model:{value:e.editedItem.edad,callback:function(t){e.$set(e.editedItem,"edad",e._n(t))},expression:"editedItem.edad"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{rows:"2",outlined:"",label:"Dirección",rules:e.ruleRequired},model:{value:e.editedItem.direccion,callback:function(t){e.$set(e.editedItem,"direccion",t)},expression:"editedItem.direccion"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-btn",{attrs:{"x-large":"",block:"",depressed:"",disabled:!e.isFormValid||e.editedItem.password!==e.editedItem.passwordVerify,color:"primary"},on:{click:e.save}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1)},Rr=[],Mr=["passwordVerify"],Ar=["passwordVerify","role"],Tr={components:{ManagerLayout:ar},name:"EmployeeAddOrEdit",mounted:function(){var e=this,t=this.$route.params.id;t&&this.$services.shareds.getEmployee(t).then((function(t){e.editedItem=t.data.employee,e.editedItem.password="",e.editedItem.passwordVerify=""})).catch((function(e){console.log(e)})),this.$services.manager.getRoles().then((function(t){e.SelectRol=t.data.collection})).catch((function(e){console.log(e)}))},data:function(){return{isFormValid:!1,editedItem:{nombre:"",apellido:"",idRol:"",username:"",password:"",passwordVerify:"",edad:"",telefono:"",direccion:"",email:""},SelectRol:{items:[],hasItems:!1},ruleRequired:Be.required,ruleAge:Be.integer,ruleOnlyAlpha:Be.alpha,rulePass:Be.password,ruleEmail:Be.email,rulePhoneS:Be.phonesize,ruleVePass:[]}},methods:{setRule:function(){this.ruleVePass=Be.verificarpass(this.editedItem.password)},save:function(){var e=this;if(this.$route.params.id){var t=this.editedItem,a=(t.passwordVerify,t.role,Object(_e["a"])(t,Ar)),r=Object(Ce["a"])({},a);r.idComercial=this.$store.getters.user.idComercial,""===r.password.trim()&&delete r.password,this.$services.manager.updateEmployee(this.$route.params.id,r).then((function(t){t.data.ok&&(Ze("success","Exito","Se actualizo el empleado correctamente"),e.$router.push("/manager/employees"))})).catch((function(e){console.log(e),Ze("error","Error :(","No se pudo actualizar el empleado")}))}else{var i=this.editedItem,s=(i.passwordVerify,Object(_e["a"])(i,Mr)),n=Object(Ce["a"])({},s);n.idComercial=this.$store.getters.user.idComercial,this.$services.manager.createEmployee(n).then((function(t){t.data.ok&&(Ze("success","Exito","Se creo el empleado correctamente"),e.$router.push("/manager/employees"))})).catch((function(e){console.log(e),Ze("error","Error :(","No se pudo crear el empleado")}))}}}},Fr=Tr,Lr=Object(l["a"])(Fr,Er,Rr,!1,null,null,null),Dr=Lr.exports;d()(Lr,{VBtn:_["a"],VCard:M["a"],VCardText:A["b"],VCardTitle:A["c"],VCol:k["a"],VContainer:T["a"],VForm:F["a"],VRow:I["a"],VSelect:zt["a"],VTextField:L["a"],VTextarea:ct["a"]});var Nr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("manager-layout",[a("manager-table-menu-items")],1)},Br=[],Pr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"pb-2 ma-3",attrs:{elevation:"10"}},[a("v-card-title",{staticClass:"justify-center pt-8"},[e._v(" Items del Menu "),a("v-spacer"),a("v-text-field",{staticClass:"mr-2",attrs:{"append-icon":"mdi-magnify",label:"Buscar",outlined:"",clearable:"",color:"brown","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticClass:"justify-center ma-3 elevation-1",attrs:{headers:e.headers,items:e.menuItems.items,search:e.search,height:500},scopedSlots:e._u([{key:"item.actions",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-4",attrs:{color:"indigo accent-3"},on:{click:function(t){return e.editItem(r.id_menu_item)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{color:"deep-orange accent-3"},on:{click:function(t){return e.deleteItem(r.id_menu_item)}}},[e._v(" mdi-delete ")])]}}],null,!0)})],1)},qr=[],zr=["disponibilidad","category","descuento"],Gr={name:"ManagerTableMenuItems",data:function(){return{slider:0,search:"",headers:[{text:"Nombre",align:"start",sortable:!0,value:"nombre_item"},{text:"Categoria",value:"nombreCategoria"},{text:"Precio",value:"precio",width:"90px"},{text:"Detalles",value:"detalles_item"},{text:"Disponibilidad",value:"disponibilidad"},{text:"Descuento (%)",value:"descuento"},{text:"Acciones",value:"actions",sortable:!1,width:"100px"}],menuItems:{items:[],hasItems:!1}}},mounted:function(){var e=this;this.$services.shareds.getMenuItems().then((function(t){e.menuItems=t.data.collection,e.menuItems.items=e.menuItems.items.map((function(e){var t=e.disponibilidad,a=e.category,r=e.descuento,i=Object(_e["a"])(e,zr);return Object(Ce["a"])(Object(Ce["a"])({},i),{},{disponibilidad:t?"Disponible":"No Disponible",nombreCategoria:a.nombreCategoria,descuento:100*r})}))})).catch((function(e){console.log(e)}))},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Item":"Editar Item"}},methods:{editItem:function(e){this.$router.push("/manager/menu-items/".concat(e,"/edit"))},deleteItem:function(e){var t=this;Ye((function(){t.$services.manager.deleteMenuItem(e).then((function(a){a.data.ok&&(t.menuItems.items=t.menuItems.items.filter((function(t){return t.id_menu_item!==e})))})).catch((function(e){console.log(e)}))}))}}},Ur=Gr,Wr=Object(l["a"])(Ur,Pr,qr,!1,null,"d8e7901a",null),Hr=Wr.exports;d()(Wr,{VCard:M["a"],VCardTitle:A["c"],VDataTable:Tt["a"],VIcon:y["a"],VSpacer:ce["a"],VTextField:L["a"]});var Jr={name:"MenuItems",components:{ManagerTableMenuItems:Hr,ManagerLayout:ar}},Kr=Jr,Zr=Object(l["a"])(Kr,Nr,Br,!1,null,null,null),Yr=Zr.exports,Qr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("manager-layout",[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("Ingresar los datos")])]),a("v-card-text",[a("v-container",[a("v-form",{staticStyle:{"max-width":"650px"},model:{value:e.isFormValid,callback:function(t){e.isFormValid=t},expression:"isFormValid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"7",md:"7"}},[a("v-text-field",{attrs:{outlined:"",label:"Nombre del Item",rules:e.ruleRequired},model:{value:e.editedItem.nombre_item,callback:function(t){e.$set(e.editedItem,"nombre_item",t)},expression:"editedItem.nombre_item"}})],1),a("v-col",{attrs:{cols:"12",sm:"5",md:"5"}},[a("v-select",{attrs:{items:e.SelectCategorias.items,label:"Categorias",outlined:"","item-text":"nombreCategoria","item-value":"idCategoria",rules:e.ruleRequired},model:{value:e.editedItem.idCategoria,callback:function(t){e.$set(e.editedItem,"idCategoria",e._n(t))},expression:"editedItem.idCategoria"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{outlined:"",label:"Precio del Item",rules:e.ruleDecimal},model:{value:e.editedItem.precio,callback:function(t){e.$set(e.editedItem,"precio",t)},expression:"editedItem.precio"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-select",{attrs:{items:e.SelectDisp,label:"Disponibilidad","item-text":"title","item-value":"value",outlined:"",rules:e.ruleRequired},model:{value:e.editedItem.disponibilidad,callback:function(t){e.$set(e.editedItem,"disponibilidad",t)},expression:"editedItem.disponibilidad"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-textarea",{attrs:{outlined:"",label:"Detalles del item",rules:e.ruleRequired,rows:"3"},model:{value:e.editedItem.detalles_item,callback:function(t){e.$set(e.editedItem,"detalles_item",t)},expression:"editedItem.detalles_item"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-subheader",{staticClass:"pl-0"},[e._v(" Seleccione el Porcentaje de Descuento: "+e._s(e.editedItem.descuento)+" % ")]),a("v-slider",{attrs:{"thumb-label":""},model:{value:e.editedItem.descuento,callback:function(t){e.$set(e.editedItem,"descuento",t)},expression:"editedItem.descuento"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-btn",{attrs:{"x-large":"",block:"",depressed:"",disabled:!e.isFormValid,color:"primary"},on:{click:e.save}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1)},Xr=[],ei=["descuento","disponibilidad"],ti={name:"MenuItemAddOrEdit",components:{ManagerLayout:ar},mounted:function(){var e=this;this.$services.shareds.getCategories().then((function(t){e.SelectCategorias=t.data.collection})).catch((function(e){}));var t=this.$route.params.id;t&&this.$services.manager.getMenuItem(t).then((function(t){if(t.data.ok){var a=t.data.menuItem,r=a.descuento,i=a.disponibilidad,s=Object(_e["a"])(a,ei);e.editedItem=Object(Ce["a"])(Object(Ce["a"])({},s),{},{descuento:100*r,disponibilidad:i?1:2})}}))},data:function(){return{isFormValid:!1,SelectCategorias:{items:[],hasItems:!1},SelectDisp:[{title:"Disponible",value:1},{title:"No disponible",value:2}],editedItem:{nombre_item:"",idCategoria:null,precio:null,detalles_item:"",disponibilidad:null,descuento:0},ruleRequired:Be.required,ruleDecimal:Be.decimal}},methods:{save:function(){var e=this,t=Object(Ce["a"])(Object(Ce["a"])({},this.editedItem),{},{disponibilidad:1===this.editedItem.disponibilidad,descuento:this.editedItem.descuento/100,idComercial:this.$store.getters.user.idComercial}),a=this.$route.params.id;a?this.$services.manager.updateMenuItem(a,t).then((function(t){t.data.ok&&(Ze("success","Exito","Se actualizo el item del menu correctamente"),e.$router.push("/manager/menu-items"))})).catch((function(e){console.log(e),Ze("error","Error :(","No se pudo actualizar el item correctamente")})):this.$services.manager.createMenuItem(t).then((function(t){t.data.ok&&(Ze("success","Exito","Se creo el item del menu correctamente"),e.$router.push("/manager/menu-items"))})).catch((function(e){console.log(e),Ze("error","Error :(","No se pudo crear el item del menu")}))}}},ai=ti,ri=a("ba0d"),ii=Object(l["a"])(ai,Qr,Xr,!1,null,null,null),si=ii.exports;d()(ii,{VBtn:_["a"],VCard:M["a"],VCardText:A["b"],VCardTitle:A["c"],VCol:k["a"],VContainer:T["a"],VForm:F["a"],VRow:I["a"],VSelect:zt["a"],VSlider:ri["a"],VSubheader:Ue["a"],VTextField:L["a"],VTextarea:ct["a"]});var ni=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("manager-layout",[a("manager-table-mesas")],1)},oi=[],ci=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"pb-2 ma-3",attrs:{elevation:"10"}},[a("v-card-title",{staticClass:"justify-center pt-8"},[e._v(" Mesas del Restaurante "),a("v-spacer"),a("v-text-field",{staticClass:"mr-2",attrs:{"append-icon":"mdi-magnify",outlined:"",clearable:"",color:"orange",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticClass:"justify-center ma-3 elevation-1",attrs:{headers:e.headers,items:e.tables.items,search:e.search,height:500},scopedSlots:e._u([{key:"item.actions",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-4",attrs:{color:"indigo accent-3"},on:{click:function(t){return e.editItem(r.idMesa)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{color:"deep-orange accent-3"},on:{click:function(t){return e.deleteItem(r.idMesa)}}},[e._v(" mdi-delete ")])]}}],null,!0)})],1)},li=[],ui=["disponible"],di={name:"ManagerTableMesas",mounted:function(){var e=this;this.$services.manager.getTables().then((function(t){t.data.ok&&(e.tables=t.data.collection,e.tables.items=e.tables.items.map((function(e){var t=e.disponible,a=Object(_e["a"])(e,ui);return Object(Ce["a"])(Object(Ce["a"])({},a),{},{disponible:t?"Disponible":"No disponible"})})))})).catch((function(e){console.log(e)}))},data:function(){return{search:"",headers:[{text:"Numero de Mesa",align:"start",sortable:!0,value:"numero"},{text:"Capacidad (Personas)",value:"capacidad"},{text:"Disponibilidad",value:"disponible"},{text:"Acciones",value:"actions",sortable:!1,width:"100px"}],tables:{items:[],hasItems:!1},editedIndex:-1}},methods:{editItem:function(e){this.$router.push("/manager/tables/".concat(e,"/edit"))},deleteItem:function(e){var t=this;Ye((function(){t.$services.manager.deleteTable(e).then((function(a){a.data.ok&&(t.tables.items=t.tables.items.filter((function(t){return t.idMesa!==e})))})).catch((function(e){console.log(e)}))}))}}},mi=di,pi=Object(l["a"])(mi,ci,li,!1,null,"55d5dc4e",null),vi=pi.exports;d()(pi,{VCard:M["a"],VCardTitle:A["c"],VDataTable:Tt["a"],VIcon:y["a"],VSpacer:ce["a"],VTextField:L["a"]});var hi={name:"Table",components:{ManagerLayout:ar,ManagerTableMesas:vi}},fi=hi,bi=Object(l["a"])(fi,ni,oi,!1,null,null,null),gi=bi.exports,xi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("manager-layout",[a("v-card",[a("v-card-title",{staticClass:"justify-center"},[a("span",{staticClass:"text-h5 pa-5"},[e._v("Ingresa los datos")])]),a("v-card-text",[a("v-container",[a("v-form",{staticStyle:{"max-width":"400px"},model:{value:e.isFormValid,callback:function(t){e.isFormValid=t},expression:"isFormValid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"8",md:"8"}},[a("v-text-field",{attrs:{outlined:"",label:"Numero de Mesa",rules:e.ruleInteger},model:{value:e.editedItem.numero,callback:function(t){e.$set(e.editedItem,"numero",e._n(t))},expression:"editedItem.numero"}})],1),a("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[a("v-text-field",{attrs:{outlined:"",label:"Capacidad",rules:e.ruleInteger},model:{value:e.editedItem.capacidad,callback:function(t){e.$set(e.editedItem,"capacidad",e._n(t))},expression:"editedItem.capacidad"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-select",{attrs:{items:e.SelectDispMesa,"item-text":"title","item-value":"value",label:"Disponibilidad",outlined:"",rules:e.ruleRequired},model:{value:e.editedItem.disponible,callback:function(t){e.$set(e.editedItem,"disponible",t)},expression:"editedItem.disponible"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-btn",{attrs:{"x-large":"",block:"",depressed:"",disabled:!e.isFormValid,color:"primary"},on:{click:e.save}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1)},Ci=[],_i=["disponible"],ki={name:"TableAddOrEdit",components:{ManagerLayout:ar},data:function(){return{isFormValid:!1,editedItem:{numero:"",capacidad:"",disponible:""},SelectDispMesa:[{title:"Disponible",value:1},{title:"No disponible",value:2}],ruleRequired:Be.required,ruleInteger:Be.integer}},mounted:function(){var e=this,t=this.$route.params.id;t&&this.$services.manager.getTable(t).then((function(t){if(t.data.ok){var a=t.data.table,r=a.disponible,i=Object(_e["a"])(a,_i);e.editedItem=Object(Ce["a"])(Object(Ce["a"])({},i),{},{disponible:r?1:2})}}))},methods:{save:function(){var e=this,t=this.$route.params.id,a=Object(Ce["a"])(Object(Ce["a"])({},this.editedItem),{},{disponible:1===this.editedItem.disponible,idComercial:this.$store.getters.user.idComercial});t?this.$services.manager.updateTable(t,a).then((function(t){t.data.ok&&(Ze("success","Exito","Se actualizo la mesa correctamente"),e.$router.push("/manager/tables"))})).catch((function(e){Ze("error","Error :(","No se pudo actualizo la mesa"),console.log(e)})):this.$services.manager.createTable(a).then((function(t){t.data.ok&&(Ze("success","Exito","Se creo la mesa correctamente"),e.$router.push("/manager/tables"))})).catch((function(e){console.log(e),Ze("error","Error :(","No se pudo actualizar la mesa")}))}}},yi=ki,wi=Object(l["a"])(yi,xi,Ci,!1,null,null,null),Ii=wi.exports;d()(wi,{VBtn:_["a"],VCard:M["a"],VCardText:A["b"],VCardTitle:A["c"],VCol:k["a"],VContainer:T["a"],VForm:F["a"],VRow:I["a"],VSelect:zt["a"],VTextField:L["a"]});a("caad"),a("2532");var Oi=a("2f62");r["a"].use(Oi["a"]);var Vi=new Oi["a"].Store({state:{user:null,isLoggedIn:!1,orderSelect:{nombreCliente:"",idMesa:null},itemsMenuSelect:[],itemsMenuSelectEdit:[],itemsMenuSelectRemove:[],isValidEditForm:!1},mutations:{loginSign:function(e){e.isLoggedIn=!e.isLoggedIn},setIsValidFormEdit:function(e,t){e.isValidEditForm=t},setUser:function(e,t){e.user=t},setItemsMenuSelect:function(e,t){e.itemsMenuSelect=t},setItemMenuField:function(e,t){var a=t.payload,r=a.field,i=a.value,s=t.index;e.itemsMenuSelect[s][r]=i},setItemsMenuSelectEdit:function(e,t){e.itemsMenuSelectEdit=t},setItemsMenuSelectRemove:function(e,t){e.itemsMenuSelectRemove=t},setOrderSelect:function(e,t){e.orderSelect=t}},actions:{setUserAction:function(e,t){e.commit("setUser",t)},setLoginSignAction:function(e){e.commit("loginSign")},setIsValidEditFormAction:function(e,t){e.commit("setIsValidFormEdit",t)},itemsMenuSelectAction:function(e,t){e.commit("setItemsMenuSelect",t)},setItemMenuFieldAction:function(e,t){e.commit("setItemMenuField",t)},setItemsMenuSelectEditAction:function(e,t){e.commit("setItemsMenuSelectEdit",t)},setItemsMenuSelectRemoveAction:function(e,t){e.commit("setItemsMenuSelectRemove",t)},setOrderSelectAction:function(e,t){e.commit("setOrderSelect",t)}},getters:{user:function(e){return e.user},isLoggedIn:function(e){return e.isLoggedIn},isValidEditForm:function(e){return e.isValidEditForm},itemsMenuSelect:function(e){return e.itemsMenuSelect},itemsMenuSelectEdit:function(e){return e.itemsMenuSelectEdit},itemsMenuSelectRemove:function(e){return e.itemsMenuSelectRemove},orderSelect:function(e){return e.orderSelect}},modules:{}});function Si(e,t,a){var r=Vi.getters,i=r.user,s=r.isLoggedIn;return i&&s?e.path.includes("manager")&&2!==i.role.user_level.nivel_usuario||e.path.includes("orders")&&3!==i.role.user_level.nivel_usuario&&4!==i.role.user_level.nivel_usuario||e.path.includes("kitchen-room")&&5!==i.role.user_level.nivel_usuario||e.path.includes("login")&&i?a("/"):void a():a("/login")}function ji(e,t,a){var r=Vi.getters,i=r.user,s=r.isLoggedIn;i&&s&&a("/"),a()}var $i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return"Gerente"===e.tipo?a("manager-layout",[a("my-account")],1):a("app-layout",[a("my-account")],1)},Ei=[],Ri=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{staticClass:"fill-height justify-center align-center"},[a("v-col",[a("v-card",[a("v-card-title",{staticClass:"justify-center"},[a("span",{staticClass:"text-h4 pt-10"},[e._v("Cuenta de Usuario")])]),a("v-card-text",[a("v-container",[a("v-form",{staticClass:"mx-auto",staticStyle:{"max-width":"600px"},model:{value:e.isFormValid,callback:function(t){e.isFormValid=t},expression:"isFormValid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{outlined:"",label:"Nombres",rules:e.ruleOnlyAlpha,disabled:e.notvalid},model:{value:e.editedItem.nombre,callback:function(t){e.$set(e.editedItem,"nombre",t)},expression:"editedItem.nombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{outlined:"",label:"Apellidos",rules:e.ruleOnlyAlpha,disabled:e.notvalid},model:{value:e.editedItem.apellido,callback:function(t){e.$set(e.editedItem,"apellido",t)},expression:"editedItem.apellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{outlined:"",label:"Email",rules:e.ruleEmail},model:{value:e.editedItem.email,callback:function(t){e.$set(e.editedItem,"email",t)},expression:"editedItem.email"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{outlined:"",label:"Nombre de usuario",rules:e.ruleRequired,disabled:e.notvalid},model:{value:e.editedItem.username,callback:function(t){e.$set(e.editedItem,"username",t)},expression:"editedItem.username"}})],1),a("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"####-####",expression:"'####-####'"}],attrs:{outlined:"",label:"Telefono",rules:e.rulePhoneS},model:{value:e.editedItem.telefono,callback:function(t){e.$set(e.editedItem,"telefono",t)},expression:"editedItem.telefono"}})],1),a("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"##",expression:"'##'"}],attrs:{outlined:"",label:"Edad",rules:e.ruleAge},model:{value:e.editedItem.edad,callback:function(t){e.$set(e.editedItem,"edad",e._n(t))},expression:"editedItem.edad"}})],1),a("v-col",{attrs:{cols:"12",sm:"5",md:"5"}},[a("v-text-field",{attrs:{outlined:"",label:"Edad",rules:e.ruleRequired,disabled:e.notvalid},model:{value:e.editedItem.rol,callback:function(t){e.$set(e.editedItem,"rol",e._n(t))},expression:"editedItem.rol"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{rows:"2",outlined:"",label:"Dirección",rules:e.ruleRequired},model:{value:e.editedItem.direccion,callback:function(t){e.$set(e.editedItem,"direccion",t)},expression:"editedItem.direccion"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-btn",{attrs:{"x-large":"",block:"",depressed:"",disabled:!e.isFormValid,color:"primary"},on:{click:e.save}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1)],1)},Mi=[],Ai=["nombreRol"],Ti={name:"MyAccount",mounted:function(){var e=this;this.$services.shareds.getEmployee(this.$store.getters.user.idEmpleado).then((function(t){if(t.data.ok){var a=t.data.employee;e.llenarEditedItem(a)}})).catch((function(e){console.log(e)}))},data:function(){return{isFormValid:!1,editedItem:{nombre:"",apellido:"",username:"",edad:"",telefono:"",direccion:"",email:"",rol:"",idRol:-1},ruleRequired:Be.required,ruleAge:Be.integer,ruleOnlyAlpha:Be.alpha,ruleEmail:Be.email,rulePhoneS:Be.phonesize,ruleVePass:[],trigger:!1,message:"",notvalid:!0,avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTPNbOneenDa9mbmD7tjFZgsWnd1BhhAPA5GUwBvtAm9ANMe-_PN1lQL3W2FSPq7J2iXDU&usqp=CAU"}},methods:{changeTrigger:function(){this.trigger=!0},handleUploading:function(e,t){this.message="Subiendo..."},handleUploaded:function(e){"success"===e.status&&(this.user.avatar=e.url,this.message="Imagen de perfil cambiada")},handleCompleted:function(e,t,a){this.message="Se completó la subida"},handlerError:function(e,t,a){this.message="Oops! Un error ocurrió..."},save:function(){var e=this,t=this.editedItem,a=(t.nombreRol,Object(_e["a"])(t,Ai)),r=Object(Ce["a"])({},a);r.idComercial=this.$store.getters.user.idComercial,this.$services.manager.updateEmployee(this.$store.getters.user.idEmpleado,r).then((function(t){t.data.ok&&(e.llenarEditedItem(t.data.employee),Ze("success","Exito","Se actualizo el empleado correctamente"))})).catch((function(e){console.log(e),Ze("error","Error :(","No se pudo actualizar el empleado")}))},llenarEditedItem:function(e){this.editedItem.nombre=e.nombre,this.editedItem.apellido=e.apellido,this.editedItem.username=e.username,this.editedItem.edad=e.edad,this.editedItem.telefono=e.telefono,this.editedItem.direccion=e.direccion,this.editedItem.email=e.email,this.editedItem.rol=e.role.nombreRol,this.editedItem.idRol=e.role.idRol}}},Fi=Ti,Li=Object(l["a"])(Fi,Ri,Mi,!1,null,"dad33ffe",null),Di=Li.exports;d()(Li,{VBtn:_["a"],VCard:M["a"],VCardText:A["b"],VCardTitle:A["c"],VCol:k["a"],VContainer:T["a"],VForm:F["a"],VRow:I["a"],VTextField:L["a"],VTextarea:ct["a"]});var Ni={name:"MyAccountSetLayout",components:{ManagerLayout:ar,AppLayout:he,MyAccount:Di},mounted:function(){var e=this;this.$services.shareds.getEmployee(this.$store.getters.user.idEmpleado).then((function(t){if(t.data.ok){var a=t.data.employee;e.tipo=a.role.nombreRol,console.log(a.role.nombreRol)}})).catch((function(e){console.log(e)}))},data:function(){return{tipo:""}}},Bi=Ni,Pi=Object(l["a"])(Bi,$i,Ei,!1,null,"44635153",null),qi=Pi.exports,zi={home:{path:"/",name:"Home",component:V},Login:{path:"/login",name:"Login",component:N,beforeEnter:ji},orders:{path:"/orders",name:"Orders",component:oa,beforeEnter:Si,title:"Modulo de Ordenes"},orderEdit:{path:"/orders/:id/edit",name:"OrderEdit",component:_a,beforeEnter:Si},kitchenroom:{path:"/kitchen-room",name:"KitchenRoom",component:Ma,beforeEnter:Si,title:"Modulo de Cocina"},manager:{path:"/manager",name:"manager",component:gr,beforeEnter:Si,title:"Inicio"},categories:{path:"/manager/categories",name:"Categories",component:nr,beforeEnter:Si,title:"Lista de categorias"},employees:{path:"/manager/employees",name:"Employees",component:$r,beforeEnter:Si,title:"Lista de empleados"},employeeCreate:{path:"/manager/employees/create",name:"EmployeeAdd",component:Dr,beforeEnter:Si,title:"Agregar nuevo empleado"},employeeEdit:{path:"/manager/employees/:id/edit",name:"EmployeeEdit",component:Dr,beforeEnter:Si,title:"Editar información del empleado"},menuItems:{path:"/manager/menu-items",name:"MenuItems",component:Yr,beforeEnter:Si,title:"Lista de items del menu"},menuItemCreate:{path:"/manager/menu-items/create",name:"MenuItemAdd",component:si,beforeEnter:Si,title:"Agregar nuevo item al menu"},menuItemEdit:{path:"/manager/menu-items/:id/edit",name:"MenuItemEdit",component:si,beforeEnter:Si,title:"Editar información del item del menu"},tables:{path:"/manager/tables",name:"Tables",component:gi,beforeEnter:Si,title:"Lista de mesas de la sucursal"},tableCreate:{path:"/manager/tables/create",name:"TableAdd",component:Ii,beforeEnter:Si,title:"Agregar nueva mesa"},tableEdit:{path:"/manager/tables/:id/edit",name:"TableEdit",component:Ii,beforeEnter:Si,title:"Editar información de la mesa"},myaccount:{path:"/my-account",name:"MyAccountSetLayout",component:qi,title:"Mi Cuenta"}},Gi=zi;r["a"].use(f["a"]);var Ui=Object.keys(Gi),Wi=Ui.map((function(e){return Gi[e]})),Hi=new f["a"]({mode:"history",base:"/",routes:Wi}),Ji=Hi,Ki=a("f309");r["a"].use(Ki["a"]);var Zi=new Ki["a"]({}),Yi=a("95ae"),Qi=a("bc3a"),Xi=a.n(Qi),es=a("1da1"),ts=a("d4ec"),as=a("bee2"),rs=(a("96cf"),function(){function e(t,a){Object(ts["a"])(this,e),this.axios=t,this.url=a}return Object(as["a"])(e,[{key:"login",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.post("".concat(this.url,"/auth/login"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()),is=function(){function e(t,a){Object(ts["a"])(this,e),this.axios=t,this.url=a}return Object(as["a"])(e,[{key:"getEmployees",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("".concat(this.url,"/employees"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"createEmployee",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.post("".concat(this.url,"/employees"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateEmployee",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.put("".concat(this.url,"/employees/").concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"deleteEmployee",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.delete("".concat(this.url,"/employees/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getRoles",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("".concat(this.url,"/roles"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getMenuItem",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("".concat(this.url,"/menu-items/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createMenuItem",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.post("".concat(this.url,"/menu-items"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateMenuItem",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.put("".concat(this.url,"/menu-items/").concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"deleteMenuItem",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.delete("".concat(this.url,"/menu-items/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createCategory",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.post("".concat(this.url,"/categories"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateCategory",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.put("".concat(this.url,"/categories/").concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"deleteCategory",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.delete("".concat(this.url,"/categories/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTables",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("".concat(this.url,"/tables"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getTable",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("".concat(this.url,"/tables/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createTable",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.post("".concat(this.url,"/tables"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateTable",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.put("".concat(this.url,"/tables/").concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"deleteTable",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.delete("".concat(this.url,"/tables/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),ss=function(){function e(t,a){Object(ts["a"])(this,e),this.axios=t,this.url=a}return Object(as["a"])(e,[{key:"getMenuItemsAvailable",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("".concat(this.url,"/menu-items/available"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getTablesAvailable",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("".concat(this.url,"/tables/available"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getOrder",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("".concat(this.url,"/orders/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getOrdersPaidout",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("".concat(this.url,"/orders/paidout"),{headers:{"date-current":(new Date).toJSON().slice(0,10)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"createOrder",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.post("".concat(this.url,"/orders"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateOrder",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.put("".concat(this.url,"/orders/").concat(a),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"createCashRegister",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.post("".concat(this.url,"/cash-registers"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateCashRegister",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.put("".concat(this.url,"/cash-registers/").concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"getCashRegisters",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("".concat(this.url,"/cash-registers/by-date"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCashRegister",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("".concat(this.url,"/cash-registers/"),{headers:{"date-current":(new Date).toISOString().slice(0,10)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"createBoxAction",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.post("".concat(this.url,"/box-actions"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBoxActions",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("".concat(this.url,"/box-actions"),{headers:{"date-current":(new Date).toISOString().slice(0,10)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),ns=function e(t,a){Object(ts["a"])(this,e),this.axios=t,this.url=a},os=function(){function e(t,a){Object(ts["a"])(this,e),this.axios=t,this.url=a}return Object(as["a"])(e,[{key:"getOrders",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("".concat(this.url,"/orders"),{headers:{"date-current":(new Date).toJSON().slice(0,10)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCategories",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("".concat(this.url,"/categories"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getMenuItems",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("".concat(this.url,"/menu-items"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getEmployee",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("".concat(this.url,"/employees/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"changeStateOrder",value:function(){var e=Object(es["a"])(regeneratorRuntime.mark((function e(t){var a,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:0,e.next=3,this.axios.put("".concat(this.url,"/orders/").concat(t,"/changeState"),{importe:a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),cs=a("ade3"),ls=a("daa8"),us=function(){function e(t){Object(ts["a"])(this,e),Object(cs["a"])(this,"socket",void 0),this.url=t,this.setupSocketConnection()}return Object(as["a"])(e,[{key:"setupSocketConnection",value:function(){this.socket=Object(ls["a"])(this.url,{extraHeaders:{idComercial:1}})}},{key:"sendOrderKitchroom",value:function(e){this.socket.emit("/sockets/orders/sendOrderKitchroom",e)}},{key:"doneOrder",value:function(e){this.socket.emit("/sockets/orders/doneOrder",e)}},{key:"deliveryOrder",value:function(e){this.socket.emit("/sockets/orders/deliveryOrder",e)}},{key:"paidoutOrder",value:function(e){this.socket.emit("/sockets/orders/paidoutOrder",e)}},{key:"getSendOrder",value:function(e){this.socket.on("/sockets/orders/sendNewOrder",(function(t){e(t)}))}},{key:"getDoneOrder",value:function(e){this.socket.on("/sockets/orders/sendDoneOrder",(function(t){e(t)}))}},{key:"getDeliveryOrder",value:function(e){this.socket.on("/sockets/orders/sendDeliveryOrder",(function(t){e(t)}))}},{key:"getPaidoutOrder",value:function(e){this.socket.on("/sockets/orders/sendPaidoutOrder",(function(t){e(t)}))}},{key:"getChangeMenuItems",value:function(e){this.socket.on("/sockets/menu-items/changeState",(function(t){e(t)}))}},{key:"changeDoneOrderDetail",value:function(e){this.socket.emit("/sockets/order-details/changeDoneOrderDetail",e)}},{key:"changeStateMenuItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.socket.emit("/sockets/menu-items/update",e)}}]),e}(),ds=us;Xi.a.defaults.headers.common.Accept="application/json",Xi.a.interceptors.request.use((function(e){var t,a,r,i=null===(t=Vi.getters.user)||void 0===t||null===(a=t.role)||void 0===a||null===(r=a.user_level)||void 0===r?void 0:r.nivel_usuario;return i&&(e.headers.nivel_usuario=i),e}),(function(e){return Promise.reject(e)}));var ms="";ms="https://restaurant-manager-cl.herokuapp.com/",console.log(ms);var ps={auth:new rs(Xi.a,ms),manager:new is(Xi.a,ms),orders:new ss(Xi.a,ms),kitchenRoom:new ns(Xi.a,ms),shareds:new os(Xi.a,ms),socketioService:new ds("http://localhost:4000")},vs=a("b6d0");r["a"].directive("mask",vs["a"]),r["a"].config.productionTip=!1,r["a"].use(Yi["a"]),r["a"].use((function(e,t){e.prototype.$services=ps})),new r["a"]({router:Ji,store:Vi,vuetify:Zi,render:function(e){return e(h)}}).$mount("#app")},"5a56":function(e,t,a){"use strict";a("f15f")},"5d3b":function(e,t,a){"use strict";a("3ab6")},"86c1":function(e,t,a){},bfe3:function(e,t,a){e.exports=a.p+"img/background2.828d6cf5.png"},c0a1:function(e,t,a){e.exports=a.p+"img/favico.321dae54.png"},c680:function(e,t,a){e.exports=a.p+"img/logoext.f914e43e.png"},c6c0:function(e,t,a){"use strict";a("86c1")},e377:function(e,t,a){},e805:function(e,t,a){e.exports=a.p+"img/posrelogopng.c76ea5eb.png"},f15f:function(e,t,a){},f578:function(e,t,a){"use strict";a("0800")}});
//# sourceMappingURL=app.956ebfc5.js.map